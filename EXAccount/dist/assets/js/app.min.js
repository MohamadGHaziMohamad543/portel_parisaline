var HTTPs={Token:null,POST:function(e,t,a={},r=null){return new Promise((function(s,n){let i=new URL(e);Object.keys(a).forEach((e=>i.searchParams.append(e,a[e])));let o={};o.Authorization="Bearer "+HTTPs.Token,t.values||(o["content-type"]="application/json",t=JSON.stringify(t)),fetch(i,{headers:o,body:t,method:"POST"}).then((e=>{r?function(e){var t=0;function a(){e.read().then((({done:e,value:n})=>{e?s(e):(t+=n.byteLength,r({NOW:n.byteLength,TOTAL:t}),a())})).catch((e=>n(e)))}a()}(e.body.getReader()):s(e.text())})).catch((e=>{n(e.text())}))}))},POSTFile:function(e,t,a={},r=null){return new Promise((function(s,n){let i=new URL(e);Object.keys(a).forEach((e=>i.searchParams.append(e,a[e])));var o=new XMLHttpRequest;o.upload.onload=function(){console.log("The upload is completed:"+o.status+o.response)},o.upload.onerror=function(){console.error("Upload failed.")},o.upload.onabort=function(){console.error("Upload cancelled.")},o.upload.onprogress=function(e){r({loaded:e.loaded,total:e.total})},o.upload.addEventListener("progress",(e=>{}),!1),o.onreadystatechange=function(){4==o.readyState&&(200==o.status?s(o.responseText):n(o.responseText))},o.open("POST",i),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.values||(o.setRequestHeader("content-type","application/json"),t=JSON.stringify(t)),o.setRequestHeader("Authorization","Bearer "+HTTPs.Token),o.send(t)}))}},Tost={Tost:function(e,t,a,r,s){$.toast({text:'<h4 style="color:#fff">'+e+"</h4>\n<p>"+t+"</p>",hideAfter:a||3e3,showHideTransition:"slide",position:r||"top-right",stack:100,allowToastClose:!0,bgColor:s})},info:function(e,t,a,r){this.Tost(e,t,a,r,"#23B65D")},error:function(e,t,a,r){this.Tost(e,t,a,r,"#E01A31")},warning:function(e,t,a,r){this.Tost(e,t,a,r,"#ff9966")},help:function(e,t,a,r){this.Tost(e,t,a,r,"#6523d9")}},Reloader={Start:function(e){$(document.querySelector(e)).append('<div class="card-disabled"><div class="card-portlets-loader"></div></div>')},Stop:function(e){$(document.querySelector(e)).find(".card-disabled").fadeOut("slow",(function(){$(document.querySelector(e)).find(".card-disabled").remove()}))}};$ANContreoller.home={FUN:["$scope","$location","$cookies",function(e,t,a){e.$emit("AuthChanged",!0);var r=$("#scroll-vertical-datatable").DataTable({scrollY:"300px","min-height":"200px",scrollCollapse:!0,pagingType:"full_numbers",language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}});HTTPs.POST(CONFIG.serverUrl+"/GAPWI",{}).then((e=>{(e=JSON.parse(e)).forEach((e=>{let t=new Date(e.createdAt),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),s=new Intl.DateTimeFormat("en",{month:"short"}).format(t),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);console.log(e),r.row.add([`<a href="#" style="width:100%;text-align:center;display: block;">${e.id}</a>`,`<min style="width:100%;text-align:center;display: block;">${n}-${s}-${a}  ${t.getHours()}:${t.getMinutes()}</min>`,`<img src="${CONFIG.serverImageUrl+e.logo}">${e.nameDoctor}`,`<img src="${CONFIG.serverImageUrl+e.image}">${e.firstName+" "+e.lastName}`,`<a style="width:100%;text-align:center;display: block;" href="/Invoices/${$CRID.TO(e.id.toString())}">View Invoice </a>`]).draw()}))}));e.doctors=0,e.delivered=0,e.mediators=0,e.invoice=0,e.supervisors=0,e.treatmentplanners=0,e.getCountRecords=()=>{HTTPs.POST(CONFIG.serverUrl+"/GCR",{}).then((t=>{if(0==(t=JSON.parse(t)).error){e.$apply((()=>{e.doctors=t.data[0].doctors,e.invoice=t.data[0].invoice,e.patients=t.data[0].patients,e.delivered=t.data[0].delivered}));$(this).attr("data-delay")&&$(this).attr("data-delay"),$(this).attr("data-time")&&$(this).attr("data-time");$('[data-plugin="counterup"]').each((function(e,t){$(this).counterUp({delay:100,time:1200})}))}}))},e.getCountRecords()}],Router:{Url:"/",Templete:"Views/home.html",Render:[{link:"assets/libs/datatables/dataTables.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/responsive.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/buttons.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/select.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/jquery.dataTables.min.js",type:"JS"},{link:"assets/libs/datatables/dataTables.bootstrap4.js",type:"JS"},{link:"assets/libs/datatables/dataTables.responsive.min.js",type:"JS"},{link:"assets/libs/datatables/dataTables.select.min.js",type:"JS"}],AUTH:!0}},$ANContreoller.NotFondPage={FUN:["$scope","$location","$cookies",function(e,t,a){e.$emit("AuthChanged",!0);var r=document.querySelector(".NotPeermstion1").innerHTML.toString(),s=0;document.querySelector(".NotPeermstion1").innerHTML="",setTimeout((function(){var e=setInterval((function(){s++,document.querySelector(".NotPeermstion1").innerHTML=r.slice(0,s)+"|",s==r.length&&(clearInterval(e),document.querySelector(".NotPeermstion1").innerHTML=r)}),20)}),0)}],Router:{Url:"/NotFondPage",Templete:"NotFondPage.html",Render:[],AUTH:!0}},$ANContreoller.Cases={FUN:["$scope","$location","$routeParams",function(e,t,a){if(Reloader.Start("#cases"),e.Status=-1,e.Submited=!1,e.$emit("AuthChanged",!0),e.idPatient=-1,e.DeleteCases=!1,"_"!=a.id){let r=$CRID.END(a.id);if(!r)return void t.path("/NotFondPage");e.idPatient=r}-1!=e.idPatient&&HTTPs.POST(CONFIG.serverUrl+"/P/GetStatus",{id:e.idPatient}).then((a=>{2e3==(a=JSON.parse(a)).message&&(a.data.length>0?e.$apply((()=>{e.Status=a.data[0].caseStatus,0!=a.data[0].caseStatus&&a.data[0].caseStatus||"T"!=t.search().D?a.data[0].caseStatus>=4&&(e.TAB.tretmentPlan.display=!0):e.DeleteCases=!0})):t.path("/NotFondPage"))})),e.TAB={patientInformation:{display:!0,set:!0,active:!0},patientRecords:{display:!0,set:!1,active:!1},createOrder:{display:!0,set:!1,active:!1},submitCase:{display:!0,set:!1,active:!1},AdditionalInstructions:{display:!0,set:!1,active:!1},tretmentPlan:{display:!1,set:!1,active:!1}},e.hideNavbar=!1,e.hideNav=()=>{e.hideNavbar=!0},e.nextTab=(t,a=!1,r=!1)=>{r&(-1==e.Status||null==e.Status)||Object.keys(e.TAB).forEach((r=>{"submitCase"==t&&e.Status>=1&&(t="AdditionalInstructions"),r==t?(e.TAB[r].set=!0,e.TAB[r].active=!0,a&&(e.Submited=!0,e.hideNavbar=!1,e.Status=1)):(e.TAB[r].set=!1,e.TAB[r].active=!1)}))},t.search().TB||"T"==!t.search().D||(t.search().TB="patientInformation"),e.nextTab(t.search().TB),Reloader.Stop("#cases"),e.Country="214",e.CountryItem=[],e.getCountrys=()=>{$.get("/assets/data/countrys.json",(function(t){e.$apply((()=>{e.CountryItem=t}))}))},e.CitysItemFull=[],e.CitysItem=[],e.City="3555",e.getCitys=()=>{$.get("/assets/data/citys.json",(function(t){e.$apply((()=>{e.CitysItemFull=t,e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.Country))}))}))},e.getCountrys(),e.getCitys(),e.changeCountry=(t=null)=>{e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.Country)),e.City=t||e.CitysItem[0].id},e.TitleFormSh="",e.showModelShippingCreate=()=>{e.idAdressSh=-1,e.TitleFormSh="Add a New Address",$("#modelShippingForm input").val(""),$("#modelShippingForm input").removeClass("sucssInput"),$("#modelShippingForm select").removeClass("sucssInput"),$("#modelShippingForm").modal("show")},e.LoaderFormSh=!1,e.idAdress=-1,e.ShippingCreateUpdate=()=>{var t=Validate(document.getElementById("modelShippingForm"));if(!t)return!1;t.id=e.idAdress,e.LoaderForm=!0,HTTPs.POST(CONFIG.serverUrl+"/SHCAU",t).then((t=>{2e3==(t=JSON.parse(t)).message&&($("#modelShippingForm").modal("hide"),e.$apply((()=>{e.$emit("updateShippings",null)}))),e.LoaderForm=!1}))}}],Router:{Url:"/Cases/:id",Templete:"Views/Cases/Cases.html",Render:[{link:"//vjs.zencdn.net/7.10.2/video-js.min.css",type:"CSS"},{link:"assets/libs/animate/animate.min.css",type:"CSS"},{link:"assets/libs/flatpickr/flatpickr.min.css",type:"CSS"},{link:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js",type:"JS"},{link:"assets/libs/flatpickr/flatpickr.min.js",type:"JS"},{link:"assets/libs/tippy-js/tippy.all.min.js",type:"JS"},{link:"//vjs.zencdn.net/7.10.2/video.min.js",type:"JS"}],AUTH:!0}},$ANContreoller.Auth_Confirm={FUN:["$scope","$location","$cookies",function(e,t){e.$emit("AuthChanged",!1),e.CountryId="219",e.TitleForm="",e.CountryItem=[],e.getCountrys=()=>{$.get("/assets/data/countrys.json",(function(t){e.$apply((()=>{e.CountryItem=t}))}))},e.CitysItemFull=[],e.CitysItem=[],e.City="",e.getCitys=()=>{$.get("/assets/data/citys.json",(function(t){e.$apply((()=>{e.CitysItemFull=t,e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.CountryId))}))}))},e.getCountrys(),e.getCitys(),e.changeCountry=(t=null)=>{e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.CountryId)),e.City=t||e.CitysItem[0].id},e.confirmStatus="1",e.init=()=>{var a=Ladda.create(document.querySelector(".ladda-button"));e.loader=!0,document.getElementById("countryId").addEventListener("change",(t=>{e.$apply((()=>{e.CountryId=t.target.value.toString(),e.changeCountry()}))})),e.ErrorMessagss=" ",e.fullName="",e.ConfirmAccount=()=>{var r=Validate(document.getElementById("formLogin"));return!!r&&(s.isValidNumber()?($("#phone").removeClass("errorInput"),$("#phone").addClass("sucssInput"),$(".ErrorMessagePhone").html(""),r.phoneNumber=s.getNumber(),a.start(),HTTPs.Token=e.PUA.token,void HTTPs.POST(CONFIG.serverUrl+"/DCA",r).then((r=>{r=JSON.parse(r),console.log(r),"confirm Sucess"==r.message&&e.$apply((()=>{e.confirmStatus=0,t.put("PUA",JSON.stringify({token:e.PUA.token,Did:r.user.dentalCenterId,name:r.user.nameDoctor,image:r.user.logo,phone:r.user.phoneNumber,email:r.user.email})),a.stop()}))}))):($(".ErrorMessagePhone").html($(".ErrorMessagePhone").attr("titleError")),$("#phone").addClass("errorInput"),void $("#phone").removeClass("sucssInput")))},t.get("PUA")&&(e.PUD=JSON.parse(t.get("PUA")));var r=document.querySelector("#phone"),s=window.intlTelInput(r,{initialCountry:"auto",geoIpLookup:function(e){$.get("https://ipinfo.io/json?token=185e80a0d228c6",(function(){}),"json").always((function(t){var a=t&&t.country?t.country:"us";e(a)}))},nationalMode:!0,formatOnDisplay:!0,separateDialCode:!0,autoFormat:!0,utilsScript:"/assets/libs/tellPhone/utils.js?1638200991544"});e.logout=()=>{t.remove("PUD"),location.reload()};var n=function(){r.classList.add("errorInput")};r.addEventListener("blur",(function(e){n(),r.value.trim()&&(s.isValidNumber()?(r.classList.add("sucssInput"),r.classList.remove("errorInput")):(r.classList.remove("sucssInput"),r.classList.add("errorInput")))})),r.addEventListener("change",n),r.addEventListener("keyup",n),r.addEventListener("keydown",(e=>{i(e)})),$(".iti__selected-flag").click((e=>{$(r).mask("000000000000000000000")})),r.addEventListener("countrychange",(function(t){t.target.value="",e.$apply((()=>{let t=e.CountryItem.find((e=>e.code==s.getSelectedCountryData().iso2));e.CountryId=t.id,e.changeCountry()})),i(t,!0)}));var i=(e,t=null)=>{let a=e.target.getAttribute("placeholder"),s="",n="";for(var i=0;i<a.length;i++)"-"!=a[i]&&"("!=a[i]&&")"!=a[i]&&" "!=a[i]?(s+="x",n+="0"):(s+=a[i],n+=a[i]);e.target.setAttribute("placeholder",s),t&&$(r).mask(n)}}}],Router:{Url:"/Auth/Confirm",Templete:"Views/Auth/Confirm.html",Render:[{link:"assets/libs/animate/animate.min.css",type:"CSS"},{link:"assets/libs/ladda/ladda-themeless.min.css",type:"CSS"},{link:"assets/libs/tellPhone/intlTelInput.min.css",type:"CSS"},{link:"https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js",type:"JS"},{link:"https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js",type:"JS"},{link:"assets/libs/tellPhone/intlTelInput.min.js",type:"JS"},{link:"assets/libs/jquery-mask-plugin/jquery.mask.min.js",type:"JS"},{link:"assets/libs/autonumeric/autoNumeric-min.js",type:"JS"},{link:"assets/libs/ladda/spin.js",type:"JS"},{link:"assets/libs/ladda/ladda.js",type:"JS"},{link:"assets/libs/parsleyjs/parsley.min.js",type:"JS"}],AUTH:!0}},$ANContreoller.Auth_Login={FUN:["$scope","$cookies","$location",function(e,t,a){e.$emit("AuthChanged",!1),t.get("PUA");var r=Ladda.create(document.querySelector(".ladda-button")),s=Ladda.create(document.querySelector("#loginGoogel"));if(e.loader=!0,e.ErrorMessagss=" ",e.Login=()=>{var t=Validate(document.getElementById("formLogin"));if(!t)return!1;t.kiven="asdas",s.start(),r.start(),HTTPs.POST(CONFIG.serverUrl+"/Login",t).then((t=>{"Auth successful"==(t=JSON.parse(t)).message?n(t):"error Login"==t.message?e.$apply((()=>{e.ErrorMessagss="You do not have an account Do you want to <a href='/Auth/Log'>register</a> a new account",$("#email").css("border","1px dashed red"),$("#email").focus(),$("#password").css("border","1px solid #f1f1f5"),r.remove(),s.remove()})):"Error Password"==t.message&&e.$apply((()=>{e.ErrorMessagss="You may have entered the wrong password, retype the password again",$("#email").css("border","1px dashed green"),$("#password").css("border","1px dashed red"),$("#email").focus(),r.remove(),s.remove()}))}))},!firebaseApp1){provider=new firebase.auth.GoogleAuthProvider;const e={apiKey:"AIzaSyBocHvWEfdQ8A78A9xyPVpe5tWCzkIkOgo",authDomain:"parisaline-4733c.firebaseapp.com",projectId:"parisaline-4733c",storageBucket:"parisaline-4733c.appspot.com",messagingSenderId:"860262996325",appId:"1:860262996325:web:2e39abb3b9f8a6f099698c",measurementId:"G-39ZF95XN8T"};firebaseApp1=firebase.initializeApp(e)}document.getElementById("loginGoogel").addEventListener("click",(()=>{s.start(),r.start(),firebaseApp1.auth().signInWithPopup(provider).then((e=>{HTTPs.POST(CONFIG.serverUrl+"/CLG",{an:e.credential.accessToken}).then((e=>{("Auth successful"==(e=JSON.parse(e)).message||"Auth Exsist"==e.message)&&n(e)}))})).catch((e=>{s.remove(),r.remove()}))}));let n=a=>{a.tempPass?(t.put("PS",JSON.stringify({token:a.token})),location.reload()):(CONFIG.Did=a.user.dentalCenterId,t.put("PUA",JSON.stringify({token:a.token,Did:a.user.dentalCenterId,name:a.user.nameDoctor,image:a.user.logo,phone:a.user.phoneNumber,email:a.user.email})),e.$apply((()=>{e.ErrorMessagss="Authentication completed successfully, you will be redirected to the control panel",setTimeout((()=>{$("#email").css("border","1px dashed green"),$("#password").css("border","1px dashed green"),location.reload(),s.remove(),r.remove()}),1e3)})),$("#ErrorMessagePublic").css("background","#0baf2921"))}}],Router:{Url:"/Auth/Login",Templete:"Views/Auth/Login.html",Render:[{link:"assets/libs/ladda/ladda-themeless.min.css",type:"CSS"},{link:"assets/libs/ladda/spin.js",type:"JS"},{link:"assets/libs/ladda/ladda.js",type:"JS"},{link:"assets/libs/parsleyjs/parsley.min.js",type:"JS"}],AUTH:!1}},$ANContreoller.Auth_Signup={FUN:["$scope","$cookies",function(e,t){e.$emit("AuthChanged",!1);var a=Ladda.create(document.querySelector(".ladda-button"));e.loader=!0,e.clickButton=!1,e.termsAndConditions=!1,e.iCertifyThat=!1,e.clickButton=!1,e.ErrorMessagss=" ",e.CreateAccount=()=>{e.clickButton=!0;var t,s=Validate(document.getElementById("formLogin"));return!!s&&(s.password!=s.ConfirmPassword?($("#ConfirmPassword").addClass("errorInput"),$("#ConfirmPassword").removeClass("sucssInput"),void((t=document.querySelector("#ConfirmPassword").parentNode.querySelector("a")).innerHTML=t.getAttribute("titleError"))):($("#ConfirmPassword").addClass("sucssInput"),$("#ConfirmPassword").removeClass("errorInput"),(t=document.querySelector("#ConfirmPassword").parentNode.querySelector("a")).innerHTML="",void(n.isValidNumber()?($(".ErrorMessagePhone").html(""),s.phoneNumber=n.getNumber(),e.termsAndConditions&&e.iCertifyThat&&(a.start(),HTTPs.POST(CONFIG.serverUrl+"/DC",s).then((t=>{1001==(t=JSON.parse(t)).error?e.ErrorMessagss="\n                    <p>The email you entered already exists </p>\n                    <p>Please try to login with your existing account</p>\n                    ":"Auth successful"==t.message&&r(t),a.stop()})))):$(".ErrorMessagePhone").html($(".ErrorMessagePhone").attr("titleError")))))};let r=r=>{CONFIG.Did=r.user.dentalCenterId,t.put("PUA",JSON.stringify({token:r.token,Did:r.user.dentalCenterId,name:r.user.nameDoctor,image:r.user.logo,phone:r.user.phoneNumber})),e.$apply((()=>{e.ErrorMessagss="Authentication completed successfully, you will be redirected to the control panel",setTimeout((()=>{$("#email").css("border","1px dashed green"),$("#password").css("border","1px dashed green"),location.reload(),l.remove(),a.remove()}),1e3)})),$("#ErrorMessagePublic").css("background","#0baf2921")};var s=document.querySelector("#phone"),n=window.intlTelInput(s,{initialCountry:"auto",geoIpLookup:function(e){$.get("https://ipinfo.io/json?token=185e80a0d228c6",(function(){}),"json").always((function(t){var a=t&&t.country?t.country:"us";e(a)}))},nationalMode:!0,formatOnDisplay:!0,separateDialCode:!0,autoFormat:!0,utilsScript:"/assets/libs/tellPhone/utils.js?1638200991544"}),i=function(){s.classList.add("errorInput")};s.addEventListener("blur",(function(e){i(),s.value.trim()&&(n.isValidNumber()?(s.classList.add("sucssInput"),s.classList.remove("errorInput")):(s.classList.remove("sucssInput"),s.classList.add("errorInput")))})),s.addEventListener("change",i),s.addEventListener("keyup",i),s.addEventListener("keydown",(e=>{o(e)})),$(".iti__selected-flag").click((e=>{$(s).mask("000000000000000000000")})),s.addEventListener("countrychange",(function(t){t.target.value="",e.$apply((()=>{let t=e.CountryItem.find((e=>e.code==n.getSelectedCountryData().iso2));e.Country=t.id,e.changeCountry()})),o(t,!0)}));var o=(e,t=null)=>{let a=e.target.getAttribute("placeholder"),r="",n="";for(var i=0;i<a.length;i++)"-"!=a[i]&&"("!=a[i]&&")"!=a[i]&&" "!=a[i]?(r+="x",n+="0"):(r+=a[i],n+=a[i]);e.target.setAttribute("placeholder",r),t&&$(s).mask(n)};e.Country="219",e.TitleForm="",e.CountryItem=[],e.getCountrys=()=>{$.get("/assets/data/countrys.json",(function(t){e.$apply((()=>{e.CountryItem=t}))}))},e.CitysItemFull=[],e.CitysItem=[],e.City="",e.getCitys=()=>{$.get("/assets/data/citys.json",(function(t){e.$apply((()=>{e.CitysItemFull=t,e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.Country))}))}))},e.getCountrys(),e.getCitys(),e.changeCountry=(t=null)=>{e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.Country)),e.City=t||e.CitysItem[0].id};a=Ladda.create(document.querySelector(".ladda-button"));var l=Ladda.create(document.querySelector("#loginGoogel"));if(e.loader=!0,e.ErrorMessagss=" ",!firebaseApp1){provider=new firebase.auth.GoogleAuthProvider;const e={apiKey:"AIzaSyBocHvWEfdQ8A78A9xyPVpe5tWCzkIkOgo",authDomain:"parisaline-4733c.firebaseapp.com",projectId:"parisaline-4733c",storageBucket:"parisaline-4733c.appspot.com",messagingSenderId:"860262996325",appId:"1:860262996325:web:2e39abb3b9f8a6f099698c",measurementId:"G-39ZF95XN8T"};firebaseApp1=firebase.initializeApp(e)}document.getElementById("loginGoogel").addEventListener("click",(()=>{e.$apply((()=>{e.clickButton=!0})),(e.termsAndConditions||e.iCertifyThat)&&(l.start(),a.start(),firebaseApp1.auth().signInWithPopup(provider).then((e=>{HTTPs.POST(CONFIG.serverUrl+"/CLG",{an:e.credential.accessToken}).then((e=>{("Auth successful"==(e=JSON.parse(e)).message||"Auth Exsist"==e.message)&&d(e)}))})).catch((e=>{l.remove(),a.remove()})))}));let d=r=>{r.tempPass?(t.put("PS",JSON.stringify({token:r.token})),location.reload()):(CONFIG.Did=r.user.dentalCenterId,t.put("PUA",JSON.stringify({token:r.token,Did:r.user.dentalCenterId,name:r.user.nameDoctor,image:r.user.logo,phone:r.user.phoneNumber,email:r.user.email})),e.$apply((()=>{e.ErrorMessagss="Authentication completed successfully, you will be redirected to the control panel",setTimeout((()=>{$("#email").css("border","1px dashed green"),$("#password").css("border","1px dashed green"),location.reload(),l.remove(),a.remove()}),1e3)})),$("#ErrorMessagePublic").css("background","#0baf2921"))}}],Router:{Url:"/Auth/Signup",Templete:"Views/Auth/Signup.html",Render:[{link:"assets/libs/ladda/ladda-themeless.min.css",type:"CSS"},{link:"assets/libs/tellPhone/intlTelInput.min.css",type:"CSS"},{link:"assets/libs/tellPhone/intlTelInput.min.js",type:"JS"},{link:"assets/libs/jquery-mask-plugin/jquery.mask.min.js",type:"JS"},{link:"assets/libs/autonumeric/autoNumeric-min.js",type:"JS"},{link:"assets/libs/ladda/spin.js",type:"JS"},{link:"assets/libs/ladda/ladda.js",type:"JS"},{link:"assets/libs/parsleyjs/parsley.min.js",type:"JS"}],AUTH:!1}};var CONT_Auth_newPassword=function(e,t,a){e.$emit("AuthChanged",!1),t.get("PUA"),e.submited=0,e.errorPasswrd=0,e.init=()=>{var a=Ladda.create(document.querySelector(".ladda-button"));e.loader=!0,e.ErrorMessagss=" ",e.recoveryPassword=()=>{var r=Validate(document.getElementById("formLogin"));if(!r)return!1;if(r.password!=r.confirmPassowrd)return e.errorPasswrd=1,$("#confirmPassowrd").addClass("errorInput"),void $("#password").removeClass("errorInput");if(""==r.password)return e.errorPasswrd=2,$("#password").addClass("errorInput"),void $("#confirmPassowrd").addClass("errorInput");a.start(),t.get("PS")&&(HTTPs.Token=JSON.parse(t.get("PS")).token),HTTPs.POST(CONFIG.serverUrl+"/RUP",r).then((e=>{"Auth successful"==(e=JSON.parse(e)).message&&(t.remove("PS"),s(e))}));let s=r=>{r.tempPass?(t.put("PS",JSON.stringify({token:r.token})),location.reload()):(CONFIG.Did=r.user.dentalCenterId,t.put("PUA",JSON.stringify({token:r.token,Did:r.user.dentalCenterId,name:r.user.nameDoctor,image:r.user.logo,phone:r.user.phoneNumber,email:r.user.email})),e.$apply((()=>{e.ErrorMessagss="Authentication completed successfully, you will be redirected to the control panel",setTimeout((()=>{$("#email").css("border","1px dashed green"),$("#password").css("border","1px dashed green"),location.reload(),a.remove()}),1e3)})),$("#ErrorMessagePublic").css("background","#0baf2921"))}}}};$ANContreoller.Auth_newPassword={FUN:["$scope","$location","$cookies",function(e,t,a){e.$emit("AuthChanged",!0)}],Router:{Url:"/Auth/RP",Templete:"Views/Auth/newPassword.html",Render:[{link:"assets/libs/ladda/ladda-themeless.min.css",type:"CSS"},{link:"https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js",type:"JS"},{link:"https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js",type:"JS"},{link:"assets/libs/ladda/spin.js",type:"JS"},{link:"assets/libs/ladda/ladda.js",type:"JS"},{link:"assets/libs/parsleyjs/parsley.min.js",type:"JS"}],AUTH:!1}},$ANContreoller.Auth_revoverPassword={FUN:["$scope","$cookies","$location",function(e,t,a){e.$emit("AuthChanged",!1),t.get("PUA"),e.submited=0,e.errorEmail=0,e.init=()=>{var t=Ladda.create(document.querySelector(".ladda-button"));e.loader=!0,e.ErrorMessagss=" ",e.RecoveryEmail=()=>{var a=Validate(document.getElementById("formLogin"));if(!a)return!1;t.start(),HTTPs.POST(CONFIG.serverUrl+"/RPA",a).then((t=>{2001==(t=JSON.parse(t)).message?e.$apply((()=>{e.submited=1})):1001==t.error&&(e.$apply((()=>{e.errorEmail=1})),$("#email").addClass("errorInput"),$("#email").removeClass("sucssInput"))}))}}}],Router:{Url:"/Auth/Rec",Templete:"Views/Auth/revoverPassword.html",Render:[{link:"assets/libs/ladda/ladda-themeless.min.css",type:"CSS"},{link:"https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js",type:"JS"},{link:"https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js",type:"JS"},{link:"assets/libs/ladda/spin.js",type:"JS"},{link:"assets/libs/ladda/ladda.js",type:"JS"},{link:"assets/libs/parsleyjs/parsley.min.js",type:"JS"}],AUTH:!1}};var RUNAUTOTSTARTAPP=function(e,t,a,r,s){"Not Authenticated"===r?s.path("/Auth/Login"):"Not Login"===r?s.path("/"):"Not Confirm"===r?s.path("/Auth/Confirm"):"rePassword"===r&&s.path("/Auth/RP")},FACT_Render=function(e,t,a,r,s){var n=a.defer(),i=!!r.get("PUA")&&JSON.parse(r.get("PUA")),o=0,l=()=>{if(0!=e.length){if("CSS"==e[o].type)if(Styles.find((t=>t==e[o].link)))++o<=e.length-1?l():d(!0);else{var t=document.createElement("link");t.rel="stylesheet",t.href=e[o].link,t.onload=()=>{++o<=e.length-1?l():d(!0)},document.getElementsByTagName("head")[0].appendChild(t),Styles.push(e[o].link)}else if("JS"==e[o].type)if(Scripts.find((t=>t==e[o].link)))++o<=e.length-1?l():d(!0);else{Scripts.push(e[o].link);let t=document.createElement("script");t.src=e[o].link,e[o].typeScript&&(t.type="module"),t.onload=()=>{++o<=e.length-1?l():d(!0)},t.onerror=()=>{++o<=e.length-1?l():d(!0)},document.getElementsByTagName("body")[0].appendChild(t)}}else d(!0)},d=e=>{t?i?(HTTPs.Token=i.token,CONFIG.Did=i.dentalCenterId,HTTPs.POST(CONFIG.serverUrl+"/TT",{}).then((e=>{1==(e=JSON.parse(e)).message?i.phone?"/Auth/Confirm"==s.$$path||"/Auth/Confirm"==s.$$path?n.reject("Not Login"):n.resolve(!0):"/Auth/Confirm"==s.$$path||"/Auth/Confirm"==s.$$path?n.resolve(!0):n.reject("Not Confirm"):(n.reject("Not Authenticated"),r.remove("PUA"))}))):(n.reject("Not Authenticated"),r.remove("PUA")):!i||"/Auth/Login"!=s.$$path&&"/Auth/Signup"!=s.$$path&&"/Auth/RP"!=s.$$path?r.get("PS")?"/Auth/RP"==s.$$path?n.resolve(!0):n.reject("rePassword"):n.resolve(!0):n.reject("Not Login")};return l(),n.promise};$ANFilter.nl2p={FUN:function(){return function(e){return(e=String(e).trim()).length>0?"<p>"+e.replace(/[\r\n]+/g,"</p><p>")+"</p>":null}}},$ANFilter.time={FUN:function(){return function(e){return(e=new Date(e)).getHours()+":"+e.getMinutes()}}},$ANFilter.imageUser={FUN:function(){return function(e){if(e){let t="";return t=1==e.split("googleusercontent").length?CONFIG.serverImageUrl+e:e,t}return""}}},$ANContreoller.Patients={FUN:["$scope","$location","$cookies",function(e,t,a){e.$emit("AuthChanged",!0);var r=[],s=!1,n=$("#scroll-vertical-datatable").DataTable({scrollY:"300px","min-height":"200px",scrollCollapse:!0,pagingType:"full_numbers",language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded"),s&&null==r.find((e=>e===this.api().rows({page:"current"}).page()))&&($(".btnViewAddress").click((function(t){Date().length,Date();e.$apply((()=>{e.openModelTask($(this).attr("data-id"))}))})),r.push(this.api().rows({page:"current"}).page()))}});HTTPs.POST(CONFIG.serverUrl+"/GAP",{}).then((e=>{e=JSON.parse(e);for(let t=0;t<e.length;t++)t==e.length-1&&(s=!0),n.row.add([`<a style="width:100%;text-align:left;display: block;">${e[t].patientId}</a>`,`<a style="width:100%;text-align:left;display: block;"><img src="${CONFIG.serverImageUrl+e[t].logo}">${e[t].nameDoctor}</a>`,`<a style="width:100%;text-align:left;display: block;"><img src="${CONFIG.serverImageUrl+e[t].image}">${e[t].firstName}</a>`,`<a style="width:100%;text-align:left;display: block;">${2==e[t].gender?"Fmale":"Male"}</a>`,`<min style="width:100%;text-align:center;display: block;"><a class="btn btn-outline-info btnViewAddress" data-id="${e[t].patientId}"><strong>${e[t].NumberOfOperations}</strong> <i class="fa fa-eye"></i></a></min>`]).draw()}));e.modelStatus=!1,e.closeModelTask=()=>{e.modelStatus=!1},e.taskData=[],e.openModelTask=t=>{e.modelStatus=!0,HTTPs.POST(CONFIG.serverUrl+"/GATFI",{idPatient:t}).then((t=>{t=JSON.parse(t),console.log(t),e.$apply((()=>{e.taskData=t}))}))}}],Router:{Url:"/Patients",Templete:"Views/Patients/Patients.html",Render:[{link:"assets/libs/datatables/dataTables.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/responsive.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/buttons.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/select.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/jquery.dataTables.min.js",type:"JS"},{link:"assets/libs/datatables/dataTables.bootstrap4.js",type:"JS"},{link:"assets/libs/datatables/dataTables.responsive.min.js",type:"JS"},{link:"assets/libs/datatables/dataTables.select.min.js",type:"JS"}],AUTH:!0}},$ANContreoller.Invoices={FUN:["$scope","$location","$routeParams",function(e,t,a){e.$emit("AuthChanged",!0),e.text="tetetetete ";const r=document.querySelector("#iframeContainer");e.Templete=[{name:"text1",type:"T",text:"asda",left:0,top:0,right:0,bottom:0}],e.idPatient="";var s=$CRID.END(a.id);if(s){e.idPatient=s;e.AddElement=(t,a)=>{"text"==t&&e.Templete.push()},e.CreatePdf=(e,t,a,s,n,i,o,l,d,c,p,m,u,g,h,f,b,y,v,S,C,I="INV-000000")=>{var P;(P="/assets/images/Logo/logo.svg",new Promise(((e,t)=>{var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=()=>{var t=document.createElement("canvas");t.width=a.width,t.height=a.height,t.getContext("2d").drawImage(a,0,0);var r=t.toDataURL("image/svg");e(r)},a.onerror=e=>{t(e)},a.src=P}))).then((a=>{var s={content:[{columns:[{svg:'<svg width="300px" id="Group_22" data-name="Group 22" xmlns="http://www.w3.org/2000/svg" width="200" height="70" viewBox="0 0 148.147 52.389">\n                                    <path id="Path_9" data-name="Path 9" d="M21.146,10.964h-7a1.072,1.072,0,0,0-1.073,1.073V28.588a.73.73,0,0,0,.73.73h2.02a.731.731,0,0,0,.73-.73V22.9h4.588a6.707,6.707,0,0,0,4.782-1.611,5.673,5.673,0,0,0,1.713-4.343,5.708,5.708,0,0,0-1.713-4.37,6.712,6.712,0,0,0-4.782-1.61m2.178,8.184a3.294,3.294,0,0,1-2.333.76H16.557V13.954h4.433a3.251,3.251,0,0,1,2.333.773,2.917,2.917,0,0,1,.812,2.217,2.875,2.875,0,0,1-.812,2.2" transform="translate(2.269 1.902)" fill="#6868ac"></path>\n                                    <path id="Path_10" data-name="Path 10" d="M37.958,19q0-3.994-5.541-4-5.11,0-5.865,3.654a.737.737,0,0,0,.718.884h1.745a.724.724,0,0,0,.7-.549,1.868,1.868,0,0,1,.636-1.088,3.383,3.383,0,0,1,2.037-.478,3.3,3.3,0,0,1,1.869.4,1.444,1.444,0,0,1,.554,1.251,1.252,1.252,0,0,1-.439,1.043,2.972,2.972,0,0,1-1.443.476l-2.011.181q-5.1.516-5.1,4.151a3.577,3.577,0,0,0,1.3,2.938,5.381,5.381,0,0,0,3.492,1.056,4.839,4.839,0,0,0,4.279-1.932,6.709,6.709,0,0,0,.262,1.394.357.357,0,0,0,.317.229h2.5a.315.315,0,0,0,.3-.426,5.667,5.667,0,0,1-.315-2.1Zm-3.143,4.357a3.042,3.042,0,0,1-.955,2.41,3.616,3.616,0,0,1-2.474.838,2.562,2.562,0,0,1-1.663-.476,1.626,1.626,0,0,1-.58-1.328,1.582,1.582,0,0,1,.554-1.3,3.659,3.659,0,0,1,1.842-.606l1.753-.205a3.9,3.9,0,0,0,1.078-.268.319.319,0,0,1,.444.3Z" transform="translate(4.479 2.603)" fill="#6868ac"></path>\n                                    <path id="Path_11" data-name="Path 11" d="M41.418,17.671V16.208a.909.909,0,0,0-.908-.908H39.181a.908.908,0,0,0-.908.908V27.871a.729.729,0,0,0,.73.73h1.788a.73.73,0,0,0,.73-.73V21.846a3.645,3.645,0,0,1,.992-2.771,3.982,3.982,0,0,1,2.849-.941h.825v-2.99a5.752,5.752,0,0,0-.8-.052,3.983,3.983,0,0,0-3.97,2.578" transform="translate(6.64 2.619)" fill="#6868ac"></path>\n                                    <path id="Path_12" data-name="Path 12" d="M61.67,22.146a7.368,7.368,0,0,0-3.518-1.391L56.475,20.5a4.225,4.225,0,0,1-1.7-.58,1.216,1.216,0,0,1-.516-1.044q0-1.546,2.321-1.547a3.506,3.506,0,0,1,2.062.5,1.773,1.773,0,0,1,.672,1.1.76.76,0,0,0,.74.589H61.6a.771.771,0,0,0,.755-.909q-.686-3.6-5.776-3.6a6.748,6.748,0,0,0-4.074,1.069,3.474,3.474,0,0,0-1.443,2.951q0,3.3,4.357,4.022l1.521.257a5.609,5.609,0,0,1,2.036.645,1.261,1.261,0,0,1,.567,1.109q0,1.6-2.629,1.6a3.589,3.589,0,0,1-2.152-.515,2.046,2.046,0,0,1-.716-1.191.755.755,0,0,0-.736-.561H51.647a.77.77,0,0,0-.751.921q.759,3.667,5.966,3.666a7.51,7.51,0,0,0,4.356-1.083A3.545,3.545,0,0,0,62.765,24.8a3.336,3.336,0,0,0-1.095-2.656" transform="translate(8.828 2.604)" fill="#6868ac"></path>\n                                    <path id="Path_13" data-name="Path 13" d="M76.27,34.616h0a14.4,14.4,0,0,1-11.056-4.725.569.569,0,0,0-.783-.1l-1.469,1.12a.569.569,0,0,0-.1.81A17.364,17.364,0,0,0,76.268,37.6h0a17.362,17.362,0,0,0,13.411-5.877.569.569,0,0,0-.1-.81l-1.47-1.12a.57.57,0,0,0-.783.1A14.389,14.389,0,0,1,76.27,34.616" transform="translate(10.884 5.149)" fill="#6868ac"></path>\n                                    <path id="Path_14" data-name="Path 14" d="M80.976,11.29H79.137a.909.909,0,0,0-.908.908V28.914a.73.73,0,0,0,.73.73h1.788a.73.73,0,0,0,.73-.73V11.791a.5.5,0,0,0-.5-.5" transform="translate(13.573 1.959)" fill="#6868ac"></path>\n                                    <path id="Path_15" data-name="Path 15" d="M86.486,15.194l-3.248-.987V28.8a.323.323,0,0,0,.323.323h2.6a.323.323,0,0,0,.323-.323Z" transform="translate(14.442 2.465)" fill="#6868ac"></path>\n                                    <path id="Path_16" data-name="Path 16" d="M46.51,15.21l3.248-.987V28.812a.323.323,0,0,1-.323.323h-2.6a.323.323,0,0,1-.323-.323Z" transform="translate(8.07 2.468)" fill="#6868ac"></path>\n                                    <path id="Path_17" data-name="Path 17" d="M95.52,15.322a4.773,4.773,0,0,0-4.146,2.214v-1a.909.909,0,0,0-.908-.908H89.139a.909.909,0,0,0-.908.908V28.6a.323.323,0,0,0,.323.323h2.6a.323.323,0,0,0,.323-.323V21.477a3.163,3.163,0,0,1,1.494-2.953,2.976,2.976,0,0,1,1.638-.392,2.193,2.193,0,0,1,2.328,2.521V28.6a.323.323,0,0,0,.323.323h2.6a.323.323,0,0,0,.323-.323V20.112a4.79,4.79,0,0,0-1.25-3.542,4.613,4.613,0,0,0-3.413-1.249" transform="translate(15.308 2.658)" fill="#6868ac"></path>\n                                    <path id="Path_18" data-name="Path 18" d="M106.717,15.322a6.309,6.309,0,0,0-4.766,1.906,7.047,7.047,0,0,0-1.8,5.048,6.985,6.985,0,0,0,1.829,5.048,6.336,6.336,0,0,0,4.79,1.906,6.646,6.646,0,0,0,4.018-1.2A5.547,5.547,0,0,0,112.95,24.8h-3.117a3.027,3.027,0,0,1-3.039,1.906,3.274,3.274,0,0,1-2.382-.863,4.044,4.044,0,0,1-1.069-2.563h9.942v-.772a7.507,7.507,0,0,0-1.777-5.2,6.116,6.116,0,0,0-4.79-1.983m-3.349,5.693q.463-3.168,3.322-3.168a3.123,3.123,0,0,1,2.267.85,3.882,3.882,0,0,1,1.082,2.319Z" transform="translate(17.376 2.658)" fill="#6868ac"></path>\n                                    <path id="Path_19" data-name="Path 19" d="M112.421,15.794a.409.409,0,0,0-.224-.4.442.442,0,0,0,.269-.441.489.489,0,0,0-.183-.407.788.788,0,0,0-.5-.147h-.866v1.914h.433v-.711h.4a.23.23,0,0,1,.175.054.339.339,0,0,1,.065.194l.014.2a.581.581,0,0,0,.067.262h.456a.475.475,0,0,1-.082-.262Zm-.665-.546h-.411v-.471h.4c.184,0,.276.076.276.231s-.087.239-.262.239" transform="translate(19.243 2.499)" fill="#6868ac"></path>\n                                    <path id="Path_20" data-name="Path 20" d="M111.824,13.659a1.863,1.863,0,0,0-1.352.537,1.831,1.831,0,0,0,0,2.624,1.981,1.981,0,0,0,2.713,0,1.85,1.85,0,0,0,0-2.624,1.873,1.873,0,0,0-1.361-.537m1.062,2.884a1.555,1.555,0,0,1-2.115-.008,1.363,1.363,0,0,1-.426-1.023,1.38,1.38,0,0,1,.426-1.039,1.544,1.544,0,0,1,2.115,0,1.488,1.488,0,0,1,0,2.07" transform="translate(19.071 2.37)" fill="#6868ac"></path>\n                                    <path id="Path_21" data-name="Path 21" d="M66.707,25.6h.007l1.05-2.964h0l.7-1.986q1.01-2.695,1.962-5.469a.3.3,0,0,1,.563,0q1.178,3.413,1.986,5.465l.722,1.986h-.023L74.742,25.6h.008l1.27,3.562a.729.729,0,0,0,.688.485h2.106a.73.73,0,0,0,.681-.993L73.119,12.2a1.431,1.431,0,0,0-1.335-.914h-2.1a1.432,1.432,0,0,0-1.339.922L62.082,28.654a.729.729,0,0,0,.682.988h2.008a.73.73,0,0,0,.689-.488Z" transform="translate(10.763 1.959)" fill="#6868ac"></path>\n                                    <path id="Path_22" data-name="Path 22" d="M144.454,52.389H3.692A3.7,3.7,0,0,1,0,48.7v-45A3.7,3.7,0,0,1,3.692,0H144.454a3.7,3.7,0,0,1,3.693,3.692v45a3.7,3.7,0,0,1-3.693,3.692M3.692,2.055A1.639,1.639,0,0,0,2.055,3.692v45a1.639,1.639,0,0,0,1.637,1.637H144.454a1.639,1.639,0,0,0,1.638-1.637v-45a1.639,1.639,0,0,0-1.638-1.637Z" transform="translate(0 0)" fill="#6868ac"></path>\n                                    <path id="Path_23" data-name="Path 23" d="M83.952,11.307h1.811a.693.693,0,0,1,.694.692v2.366l-3.2-.987V12a.692.692,0,0,1,.692-.692" transform="translate(14.446 1.962)" fill="#6868ac"></path>\n                                    <path id="Path_24" data-name="Path 24" d="M49.036,11.307H47.226a.693.693,0,0,0-.694.692v2.366l3.2-.987V12a.692.692,0,0,0-.692-.692" transform="translate(8.073 1.962)" fill="#6868ac"></path>\n                                        </svg>',alignment:"center",margin:[0,30,0,0]}]},{columns:[{text:e,bold:!0,alignment:"center",margin:[0,4,0,0],style:"sLogin"}]},{columns:[{text:"Invoice# "+I,bold:!0,alignment:"center",margin:[0,8,0,40]}]},{columns:[{},{},{},{text:"Invoice Date:",style:"InvoiceDate"},{text:t,style:"InvoiceDate"}]},{columns:[{},{},{}]},{columns:[{},{},{}]},{columns:[{},{},{},{text:"Case Number:",style:"InvoiceDate"},{text:n,style:"InvoiceDate"}]},{columns:[{},{},{},{text:"Patient Name:",style:"InvoiceDate"},{text:i,style:"InvoiceDate"}]},{columns:[[{text:o,style:"nameDR"},{text:l,style:"address"},{text:d,style:"address"},{text:c,style:"address"}],{},{}]},{style:"tableExample",table:{headerRows:1,widths:["auto","*","auto","auto","auto","auto"],body:[[{text:"#",style:"tableHeader",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!1,!1]},{text:"Case Profile",style:"tableHeader",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!1,!1]},{text:"loyalty Program",style:"tableHeader",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!1,!1]},{text:"Gross Value",alignment:"right",style:"tableHeader",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!1,!1]},{text:"Discount",alignment:"right",style:"tableHeader",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!1,!1]},{text:"Net Value",alignment:"right",style:"tableHeader",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!1,!1]}],[{text:"1",margin:4,alignment:"left",fontSize:9,borderColor:["#fff","#fff","#fff","#afb0b1"],border:[!1,!1,!1,!0]},{text:p,fontSize:9,alignment:"left",margin:4,borderColor:["#fff","#fff","#fff","#afb0b1"],border:[!1,!1,!1,!0]},{text:m,margin:4,fontSize:9,borderColor:["#fff","#fff","#fff","#afb0b1"],border:[!1,!1,!1,!0]},{text:u,margin:4,fontSize:9,alignment:"right",borderColor:["#fff","#fff","#fff","#afb0b1"],alignment:"right",border:[!1,!1,!1,!0]},{text:g,margin:4,fontSize:9,alignment:"right",borderColor:["#fff","#fff","#fff","#afb0b1"],alignment:"right",border:[!1,!1,!1,!0]},{text:h,margin:4,fontSize:9,alignment:"right",borderColor:["#fff","#fff","#fff","#afb0b1"],border:[!1,!1,!1,!0]}],[{text:"",border:[!1,!1,!1,!1]},{text:"",border:[!1,!1,!1,!1]},{text:"",border:[!1,!1,!1,!1]},{text:"",border:[!1,!1,!1,!1]},{text:"Sub Total",margin:4,fillColor:"#fff",fontSize:10,borderColor:["#fff","#fff","#fff","#afb0b1"],alignment:"right",border:[!1,!1,!1,!1]},{text:f,margin:4,fillColor:"#fff",fontSize:10,borderColor:["#fff","#fff","#fff","#afb0b1"],border:[!1,!1,!1,!1],alignment:"right"}],[{text:"",border:[!1,!1,!1,!1]},{text:"",borderColor:["#fff","#fff","#fff","#fff"],border:[!1,!1,!0,!1]},{text:"",border:[!1,!1,!1,!1]},{text:"",border:[!1,!1,!1,!1],blod:!0},{text:"Total",style:"tableHeader2",margin:4,fontSize:10,borderColor:["#fff","#fff","#fff","#afb0b1"],alignment:"right",border:[!1,!1,!1,!1]},{text:v+" "+b,style:"tableHeader2",margin:4,blod:!0,fontSize:10,borderColor:["#fff","#fff","#fff","#afb0b1"],border:[!1,!1,!1,!1],alignment:"right"}]],layout:"noBorders"}}],footer:[{columns:[{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="1857" height="100" viewBox="0 0 1857 100">\n                                                    <g id="Path_463" data-name="Path 463" fill="#6868ac">\n                                                    <path d="M 1856.5 99.5 L 0.5 99.5 L 0.5 0.5 L 1856.5 0.5 L 1856.5 99.5 Z" stroke="none"/>\n                                                    <path d="M 1 1 L 1 99 L 1856 99 L 1856 1 L 1 1 M 0 0 L 1857 0 L 1857 100 L 0 100 L 0 0 Z" stroke="none" fill="#707070"/>\n                                                    </g>\n                                                </svg>\n                                            ',width:"1857"}]},{text:S,width:"200",alignment:"center",margin:[0,-150,0,0]},{text:C,width:"200",alignment:"center",margin:[0,0,0,0]}],styles:{INVOICE:{fontSize:30,bold:!1,alignment:"right",margin:[0,0,0,0]},NumberInvoice:{fontSize:12,bold:!0,alignment:"right",margin:[0,0,0,0]},TParisAline:{fontSize:14,bold:!0,alignment:"left",margin:[0,10,0,0]},InvoiceDate:{fontSize:10,bold:!1,alignment:"right",margin:[0,10,0,0]},nameDR:{fontSize:14,bold:!0,alignment:"left",margin:[0,-65,0,0]},address:{fontSize:10,bold:!1,alignment:"left",margin:[0,3,0,0]},tableHeader:{fillColor:"#6868ab",color:"#fff",fontSize:9,margin:[0,5,0,5]},tableHeader2:{bold:!0},tableExample:{margin:[0,10,0,0]},TotalPrice:{fillColor:"#383737",fontSize:10,bold:!1,alignment:"right",margin:[0,10,0,0]},sLogin:{color:"#6868ab",fontSize:14.5,margin:5}}};pdfMake.createPdf(s).getDataUrl().then((e=>{r.innerHTML="";const t=document.createElement("iframe");t.style.width="100%",t.style.height="82vh",t.src=e+"#toolbar=0",r.appendChild(t)}),(e=>{console.error(e)}))}))};var n={slogan:"Gentle Force â€¦ Enduring Smile"};n.invoiceDate=(new Date).toDateString(),n.Terms="30 Days",n.DueDate=(new Date).toDateString(),n.CaseNumber=e.idPatient,n.PatientName="Abdullah Shaali",n.DrName="Dr. Ragheed Obeid",n.DrGroup="Al Muhaidib Group",n.City="Dammam",n.Country="Saudi Arabia",n.CaseProfle="Paris Aline ( Comprehensive )",n.loyaltyProgram="Test Text",n.GrossValue="9,374.00 ",n.ExtraDiscount="6,374.00",n.NetValue="3,000.00",n.SubTotal="3,000.00",n.Total="3,000.00",n.BalanceDue="3,000.00",n.Currancy="SAR",n.text1Footer="If you have any questions don't hesitate to contact us on : support@parisaline.com ",n.text2Footer="Thanks for your business.",e.getDateIvoice=()=>{HTTPs.POST(CONFIG.serverUrl+"/GCWIP",{id:e.idPatient}).then((t=>{for(var a in t=JSON.parse(t),n.DueDate=new Date(t[0].createdAt).toDateString(),n.invoiceDate=(new Date).toDateString(),n.PatientName=t[0].firstName,n.DrName=t[0].nameDoctor,n.Country=t[0].countryName,n.City=t[0].cityName,e.$apply((()=>{e.refreshInvoice()})),e.CreatePdf(n.slogan,n.invoiceDate,n.Terms,n.DueDate,n.CaseNumber,n.PatientName,n.DrName,n.DrGroup,n.City,n.Country,n.CaseProfle,n.loyaltyProgram,n.GrossValue,n.ExtraDiscount,n.NetValue,n.SubTotal,n.Total,n.BalanceDue,n.Currancy,n.text1Footer,n.text2Footer),n)$("#"+a).val(n[a])}))},e.refreshInvoice=t=>{n[t]=$("#"+t).val(),e.CreatePdf(n.slogan,n.invoiceDate,n.Terms,n.DueDate,n.CaseNumber,n.PatientName,n.DrName,n.DrGroup,n.City,n.Country,n.CaseProfle,n.loyaltyProgram,n.GrossValue,n.ExtraDiscount,n.NetValue,n.SubTotal,n.Total,n.BalanceDue,n.Currancy,n.text1Footer,n.text2Footer)},e.taskStatus=0,e.getStatusTask=()=>{HTTPs.POST(CONFIG.serverUrl+"/CTS",{id:e.idPatient}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{e.taskStatus=t.data.Count,e.getDateIvoice()}))}))},e.getStatusTask(),e.FinshTask=t=>{HTTPs.POST(CONFIG.serverUrl+"/TSK/FT",{id:e.idPatient,Commnet:t,invoiceOpject:n,exAccount:!0}).then((t=>{2e3==(t=JSON.parse(t)).message&&e.$apply((()=>{e.taskStatus=0}))}))},e.RejectTash=t=>{HTTPs.POST(CONFIG.serverUrl+"/TSK/RT",{id:e.idPatient,Commnet:t}).then((t=>{2e3==(t=JSON.parse(t)).message&&e.$apply((()=>{e.taskStatus=0}))}))},e.priceStratige={},e.getMemeberDoctorWithPatientId=(t,a)=>{HTTPs.POST(CONFIG.serverUrl+"/GMSWPI",{},{id:t,numberAligner:a}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{e.priceStratige=t.data[0],console.log(e.priceStratige)}))}))},e.notAliner=-1,e.numberLowerAligners=0,e.numberUpperAligners=0,e.commentAdmin="",e.PatientType="",e.getCasesInformation=t=>{HTTPs.POST(CONFIG.serverUrl+"/GCI",{id:t}).then((t=>{if(0==(t=JSON.parse(t)).error)if(null!=t.data[0].LowerAligners){let a=0;a=t.data[0].LowerAligners<t.data[0].UpperAligners?t.data[0].UpperAligners:t.data[0].LowerAligners,e.$apply((()=>{e.numberLowerAligners=t.data[0].LowerAligners,e.numberUpperAligners=t.data[0].UpperAligners,e.commentAdmin=t.data[0].commentAdmin,0==t.data[0].type&&(e.PatientType="New Patient"),1==t.data[0].type&&(e.PatientType="Refinement"),2==t.data[0].type&&(e.PatientType="Retainer"),t.data[0].invoiceOpject&&(n=JSON.parse(t.data[0].invoiceOpject)),e.notAliner=0,e.getMemeberDoctorWithPatientId(e.idPatient,a)}))}else e.$apply((()=>{e.notAliner="There are no Number Aligner"}))}))},e.getCasesInformation(e.idPatient)}else t.path("/NotFondPage")}],Router:{Url:"/Invoices/:id",Templete:"/Views/Invoices/Invoices.html?v333",Render:[{link:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.3.0-beta.1/pdfmake.min.js",type:"JS"},{link:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.3.0-beta.1/vfs_fonts.min.js",type:"JS"}],AUTH:!0}};var Validate=e=>{let t=e.querySelectorAll("[VFORM]"),a=0,r={};return t.forEach((e=>{null!=e.getAttribute("required")?"email"==getTybeElement(e)?ValidateEmail(e)?(VSucess(e),r[e.id]=e.value):(a++,VError(e)):"password"==getTybeElement(e)?ValidatePassword(e)?(VSucess(e),r[e.id]=e.value):(a++,VError(e)):("text"==getTybeElement(e)||"SELECT"==getTybeElement(e)||"tel"==getTybeElement(e))&&(ValidateText(e)?(VSucess(e),r[e.id]=e.value):(a++,VError(e))):r[e.id]=e.value})),0==a&&r};function VSucess(e){e.classList.add(e.getAttribute("sclass")),e.classList.remove(e.getAttribute("eclass"));let t=e.parentNode.querySelector(".ErrorMessage");t&&(t.text="")}function VError(e){e.classList.add(e.getAttribute("eclass")),e.classList.remove(e.getAttribute("sclass"));let t=e.parentNode.querySelector(".ErrorMessage");t&&(t.text=t.getAttribute("titleError"))}function ValidateEmail(e){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.value)}function ValidatePassword(e){let t=e.getAttribute("len")?e.getAttribute("len"):0;return e.value.length>=t&&""!=e.value}function ValidateText(e){let t=e.getAttribute("len")?e.getAttribute("len"):0;return e.value.length>=t&&""!=e.value}function getTybeElement(e){return"INPUT"==e.tagName?e.getAttribute("type"):"SELECT"==e.tagName?"SELECT":void 0}$ANDirective.dragDrop={FUN:function(e){return function(t,a,r){e.$on("updateUpload"+r.id+r.idpatient,((e,t)=>{i?c(t.numberPrograss,"","",t.newPath):l(t.file,t.type)}));var s=a[0].getAttribute("defultimage");function n(e){a[0].querySelector(".ErrorFile")&&a[0].querySelector(".ErrorFile").remove(),a[0].querySelector(".divProsess")||a[0].querySelector(".SucsessFile")||(e.stopPropagation(),e.preventDefault(),"dragover"===e.type?(e.target.classList.add("dragdropHover"),e.target.classList.remove("dragdrop")):(e.target.classList.remove("dragdropHover"),e.target.classList.add("dragdrop")))}a[0].addEventListener("dragover",n,!1),a[0].addEventListener("dragleave",n,!1),a[0].addEventListener("drop",o,!1),a[0].addEventListener("mouseover",(function(e){a[0].querySelector(".divProsess")||a[0].querySelector(".SucsessFile")||("dragover"===e.type?(e.target.classList.add("dragdropHover"),e.target.classList.remove("dragdrop")):(e.target.classList.remove("dragdropHover"),e.target.classList.add("dragdrop")))}),!1),a[0].addEventListener("mouseout",(function(e){a[0].querySelector(".divProsess")||a[0].querySelector(".SucsessFile")||("dragover"===e.type?(e.target.classList.add("dragdropHover"),e.target.classList.remove("dragdrop")):(e.target.classList.remove("dragdropHover"),e.target.classList.add("dragdrop")))}),!1),a[0].addEventListener("click",(function(){a[0].querySelector(".divProsess")||a[0].querySelector(".SucsessFile")||a[0].querySelector("input[type='file']").click()}),!1),function(){let e=`\n            <div class="imageIcon" style="display:none;">\n                <i class="icon"></i>\n                <span class="dragDrop-extension"></span>\n            </div>\n            <div class="image">\n                <img src=""  class="${r.imgclass}">\n            </div>                            \n            <div class="dragdrop"></div>\n            <input type="file" style="display: none;" />`;if(a[0].innerHTML=e,a[0].querySelector("img").src=s,a[0].querySelector("input[type='file']").addEventListener("change",o,!1),r.filesrc&&""!=r.filesrc){let e=r.filesrc.split(".");if(0!=e.length||1!=e.length){e=e[e.length-1],"png"==e||"jpeg"==e||"jpg"==e?(a[0].querySelector(".imageIcon").style.display="none",a[0].querySelector("img").src=CONFIG.serverImageUrl+r.filesrc):(a[0].querySelector("img").remove(),a[0].querySelector(".imageIcon").style.display="block",a[0].querySelector(".imageIcon span").innerHTML=e);let t='<div class="SucsessFile">\n                                <div>\n                                    <a class="btnSuccessfuly"><i class="fe-eye"></i></a>\n                                    <a class="btnRemove"><i class="fe-delete"></i></a>\n                                </div>\n                            </div>';$(a[0]).append(t),a[0].querySelector(".btnSuccessfuly").addEventListener("click",p),a[0].querySelector(".btnRemove").addEventListener("click",m)}}}();var i=null;function o(e){a[0].querySelector(".divProsess")||a[0].querySelector(".SucsessFile")||(n(e),l((e.target.files||e.dataTransfer.files)[0]))}function l(e,s=null){if(s){if(s)if("image"==s){d(),a[0].querySelector("img")||(a[0].querySelector(".image").innerHTML='<img src=""  class="imagePatient">'),a[0].querySelector(".imageIcon").style.display="none",a[0].querySelector("img").src=e,i=e}else a[0].querySelector("img")&&a[0].querySelector("img").remove(),d(),a[0].querySelector(".imageIcon").style.display="block",a[0].querySelector(".imageIcon span").innerHTML=s}else{let s=a[0].getAttribute("typefile");i=[],s=s.toLowerCase().split(" ");let n=e.name.split(".");if(n.length>0&&s.find((e=>e==n[n.length-1].toLowerCase()))&&i.push(e),0!=i.length){let e=i[0].name.split(".");if(e=e[e.length-1].toLowerCase(),e=e.toLowerCase(),"png"==e.toLowerCase()||"jpeg"==e||"jpg"==e){if(FileReader&&i&&i.length){d(),a[0].querySelector("img")||(a[0].querySelector(".image").innerHTML='<img src=""  class="imagePatient">'),a[0].querySelector(".imageIcon").style.display="none",function(e,t){var a=new FileReader;a.onload=()=>{t.src=a.result},a.readAsDataURL(e)}(i[0],a[0].querySelector("img")),t.$root.$$phase?t.$emit("uploadFiles",{id:r.id,fileName:i[0].name,filePrograss:0,file:i[0],event:c,type:"image",idPatient:r.idpatient}):t.$apply((()=>{t.$emit("uploadFiles",{id:r.id,fileName:i[0].name,filePrograss:0,file:i[0],event:c,type:"image",idPatient:r.idpatient})}))}}else a[0].querySelector("img")&&a[0].querySelector("img").remove(),d(),a[0].querySelector(".imageIcon").style.display="block",a[0].querySelector(".imageIcon span").innerHTML=e,t.$root.$$phase?t.$emit("uploadFiles",{id:r.id,fileName:i[0].name,filePrograss:0,file:i[0],event:c,type:e,idPatient:r.idpatient}):t.$apply((()=>{t.$emit("uploadFiles",{id:r.id,fileName:i[0].name,filePrograss:0,file:i[0],event:c,type:e,idPatient:r.idpatient})}))}else Tost.warning("Invalid file type","Allowed files "+a[0].getAttribute("typefile"),3e3)}}function d(){$(a[0]).append('<div class="divProsess">\n                         <a class="textProsess">0%</a>\n                           <div class="spinner-border avatar-lg text-primary m-2 loaderProsess" role="status"></div>\n                      </div>')}function c(e,t,s,n=null){if(a[0].querySelector(".textProsess").innerHTML=e+"%","C"==e){a[0].querySelector(".divProsess").remove();let e='<div class="SucsessFile">\n                        <div>\n                            <a class="btnSuccessfuly"><i class="fe-eye"></i></a>\n                            <a class="btnRemove"><i class="fe-delete"></i></a>\n                        </div>\n                    </div>';r.filesrc=n,$(a[0]).append(e),a[0].querySelector(".btnSuccessfuly").addEventListener("click",p),a[0].querySelector(".btnRemove").addEventListener("click",m)}if(s){a[0].querySelector(".divProsess").remove();let e=`<div class="ErrorFile">\n                              <p class="textError" style="width: 100%;">${s}</p>\n                         </div>`;$(a[0]).append(e)}}function p(){let e=document.querySelector("#modelViewerImage #image");if(a[0].querySelector("img"))e.src=a[0].querySelector("img").src,$viewer.view(0);else{a[0].querySelector(".imageIcon span").innerHTML;t.$apply((()=>{t.$emit("showModelStl",r.filesrc)}))}}function m(){d(),HTTPs.POST(CONFIG.serverUrl+"/DRP",{src:r.filesrc}).then((e=>{e&&(a[0].querySelector(".SucsessFile").style.opacity=0,a[0].querySelector("img")?a[0].querySelector("img").src=s:(a[0].querySelector(".imageIcon").style.display="none",a[0].querySelector(".image").innerHTML=`<img src="${s}"  class="${r.imgclass}">`),a[0].querySelector(".SucsessFile").remove(),a[0].querySelector(".divProsess").remove())}))}}}},$ANContreoller.Accounts={FUN:["$scope","$location","$routeParams",function(e,t,a){e.Status=0,e.$emit("AuthChanged",!0),e.idPatient=-1,e.Country="214",e.TitleForm="",e.formEdit=0,e.CountryItem=[],e.CitysItemFull=[],e.CitysItem=[],e.City="3555",e.getCountrys=()=>{HTTPs.POST(CONFIG.serverUrl+"/CC/GCU",{}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{e.CountryItem=t.data}))}))},e.getCitys=()=>{HTTPs.POST(CONFIG.serverUrl+"/CC/GCI",{}).then((t=>{let a=JSON.parse(t);0==a.error&&e.$apply((()=>{e.CitysItemFull=a.data,e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.Country))}))}))},e.getCountrys(),e.getCitys(),e.changeCountry=(t=null)=>{e.CitysItem=e.CitysItemFull.filter((t=>t.countryId==e.Country)),e.City=t||e.CitysItem[0].id},e.Edit=()=>{e.formEdit=1,n()},e.openFIle=()=>{$("#fileImageUser").click()};var r=null;document.getElementById("fileImageUser").addEventListener("change",(e=>{var t=e.target,a=new FileReader;a.onload=function(){$("#imageUser").attr("src",a.result)},r=t.files[0],a.readAsDataURL(t.files[0])})),e.DataAccount={};var s=()=>{$("#phone").attr("disabled","disabled"),$("#email").attr("disabled","disabled"),$("#countryId").attr("disabled","disabled"),$("#cityId").attr("disabled","disabled"),$("#fullName").attr("disabled","disabled"),$("#fileImageUser").attr("disabled","disabled")},n=()=>{$("#phone").removeAttr("disabled"),$("#email").removeAttr("disabled"),$("#countryId").removeAttr("disabled"),$("#cityId").removeAttr("disabled"),$("#fullName").removeAttr("disabled"),$("#fileImageUser").removeAttr("disabled")};e.getAll=()=>{HTTPs.POST(CONFIG.serverUrl+"/GPA",{}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{e.DataAccount=t.data,o.setNumber(t.data.phoneNumber),s()}))}))},e.LoaderForm=!1,e.Save=()=>{var t=Validate(document.getElementById("modelProfileForm"));if(!t)return!1;if(!o.isValidNumber())return $("#phone").addClass("errorInput"),$("#phone").removeClass("sucssInput"),void $(".ErrorMessagePhone").text($(".ErrorMessagePhone").attr("titleError"));$("#phone").removeClass("errorInput"),$("#phone").addClass("sucssInput"),t.phoneNumber=o.getNumber(),e.LoaderForm=!0,console.log(t);var a=new FormData;a.append("fileData",r),Reloader.Start("#formInformationPatient"),HTTPs.POST(CONFIG.serverUrl+"/UPA",a,t).then((t=>{(t=JSON.parse(t)).data&&e.$apply((()=>{e.LoaderForm=!1,e.getAll(),e.formEdit=0,s()}))}))};var i=document.querySelector("#phone"),o=window.intlTelInput(i,{initialCountry:"auto",nationalMode:!0,formatOnDisplay:!0,separateDialCode:!0,autoFormat:!0,utilsScript:"/assets/libs/tellPhone/utils.js?1638200991544"});e.logout=()=>{$cookies.remove("PUD"),location.reload()};var l=function(){i.classList.add("errorInput")};i.addEventListener("blur",(function(e){l(),i.value.trim()&&(o.isValidNumber()?(i.classList.add("sucssInput"),i.classList.remove("errorInput")):(i.classList.remove("sucssInput"),i.classList.add("errorInput")))})),i.addEventListener("change",l),i.addEventListener("keyup",l),i.addEventListener("keydown",(e=>{d(e)})),$(".iti__selected-flag").click((e=>{$(i).mask("000000000000000000000")})),i.addEventListener("countrychange",(function(e){d(e,!0)}));var d=(e,t=null)=>{let a=e.target.getAttribute("placeholder"),r="",s="";if(a){for(var n=0;n<a.length;n++)"-"!=a[n]&&"("!=a[n]&&")"!=a[n]&&" "!=a[n]?(r+="x",s+="0"):(r+=a[n],s+=a[n]);e.target.setAttribute("placeholder",r),t&&$(i).mask(s)}};e.getAll()}],Router:{Url:"/Settings/Accounts/",Templete:"Views/settings/Accounts.html",Render:[{link:"assets/libs/animate/animate.min.css",type:"CSS"},{link:"assets/libs/ladda/ladda-themeless.min.css",type:"CSS"},{link:"assets/libs/tellPhone/intlTelInput.min.css",type:"CSS"},{link:"https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js",type:"JS"},{link:"https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js",type:"JS"},{link:"assets/libs/tellPhone/intlTelInput.min.js",type:"JS"},{link:"assets/libs/jquery-mask-plugin/jquery.mask.min.js",type:"JS"},{link:"assets/libs/autonumeric/autoNumeric-min.js",type:"JS"},{link:"assets/libs/ladda/spin.js",type:"JS"},{link:"assets/libs/ladda/ladda.js",type:"JS"},{link:"assets/libs/parsleyjs/parsley.min.js",type:"JS"}],AUTH:!0}},$ANContreoller.Dcotors={FUN:["$scope","$location",function(e,t){e.$emit("AuthChanged",!0),e.titletest="WELCOME TO KIVEN";var a=$("#scroll-vertical-datatable").DataTable({scrollY:"300px","min-height":"200px",scrollCollapse:!0,pagingType:"full_numbers",language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}});e.getAllDoctors=()=>{HTTPs.POST(CONFIG.serverUrl+"/GAD",{}).then((e=>{a.clear().draw(),(e=JSON.parse(e)).forEach((e=>{a.row.add([`<a href="#" style="width:100%;text-align:center;display: block;">${e.id}</a>`,`<img src="${CONFIG.serverImageUrl+e.logo}">${e.nameDoctor}`,`<a style="text-align:center;display: block;">${e.CountPatients}</a>`,`<a style="text-align:center;display: block;">${e.CountInvoices}</a>`,`<a style="text-align:center;display: block;">${e.DelverdCases}</a>`,`<a style="text-align:center;display: block;">${r(e.status)}</a>`,`${s(e.status,e.id)}`]).draw()})),n()}))};var r=e=>0==e?'<span class="DoctorStopped">Doctor Stopped</span>':1==e?'<span class="DoctorActivted">Doctor Activated</span>':void 0,s=(e,t)=>'\n                    <div class="btn-group" style="width:100%">\n                        <button type="button" class="btn dropdown-toggle float-right" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: #6868ab;box-shadow: none;padding: 0px 0px;font-size: 29px;"><i class="mdi mdi-dots-horizontal"></i></button>\n                        <div class="dropdown-menu dropdown-menu-right">\n                            '+(1==e?`<a class="dropdown-item btnClickStoped" data-id="${t}" href="#">\n                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 65.518 65.518" style="width:11px;fill: red; " xml:space="preserve">\n                                    <g>\n                                        <path d="M32.759,0C14.696,0,0,14.695,0,32.759s14.695,32.759,32.759,32.759s32.759-14.695,32.759-32.759S50.822,0,32.759,0z    M6,32.759C6,18.004,18.004,6,32.759,6c6.648,0,12.734,2.443,17.419,6.472L12.472,50.178C8.443,45.493,6,39.407,6,32.759z    M32.759,59.518c-5.948,0-11.447-1.953-15.895-5.248l37.405-37.405c3.295,4.448,5.248,9.947,5.248,15.895   C59.518,47.514,47.514,59.518,32.759,59.518z"/>\n\n                                    </svg>\n                            \n                            Stop </a>`:"")+"\n                            "+(0==e?`<a class="dropdown-item btnClickActive" data-id="${t}" href="#">\n                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 117.72 117.72" style="width:11px;fill: green; " xml:space="preserve">\n                            <g><path class="st0" d="M58.86,0c9.13,0,17.77,2.08,25.49,5.79c-3.16,2.5-6.09,4.9-8.82,7.21c-5.2-1.89-10.81-2.92-16.66-2.92 c-13.47,0-25.67,5.46-34.49,14.29c-8.83,8.83-14.29,21.02-14.29,34.49c0,13.47,5.46,25.66,14.29,34.49 c8.83,8.83,21.02,14.29,34.49,14.29s25.67-5.46,34.49-14.29c8.83-8.83,14.29-21.02,14.29-34.49c0-3.2-0.31-6.34-0.9-9.37 c2.53-3.3,5.12-6.59,7.77-9.85c2.08,6.02,3.21,12.49,3.21,19.22c0,16.25-6.59,30.97-17.24,41.62 c-10.65,10.65-25.37,17.24-41.62,17.24c-16.25,0-30.97-6.59-41.62-17.24C6.59,89.83,0,75.11,0,58.86 c0-16.25,6.59-30.97,17.24-41.62S42.61,0,58.86,0L58.86,0z M31.44,49.19L45.8,49l1.07,0.28c2.9,1.67,5.63,3.58,8.18,5.74 c1.84,1.56,3.6,3.26,5.27,5.1c5.15-8.29,10.64-15.9,16.44-22.9c6.35-7.67,13.09-14.63,20.17-20.98l1.4-0.54H114l-3.16,3.51 C101.13,30,92.32,41.15,84.36,52.65C76.4,64.16,69.28,76.04,62.95,88.27l-1.97,3.8l-1.81-3.87c-3.34-7.17-7.34-13.75-12.11-19.63 c-4.77-5.88-10.32-11.1-16.79-15.54L31.44,49.19L31.44,49.19z"/></g></svg>\n                            \n                            Active </a>`:"")+"\n                        </div>\n                    </div>\n            ",n=()=>{$(".btnClickStoped").click((e=>{i($(e.target).attr("data-id"))})),$(".btnClickActive").click((e=>{o($(e.target).attr("data-id"))}))},i=t=>{HTTPs.POST(CONFIG.serverUrl+"/STD",{id:t,staus:0}).then((a=>{(a=JSON.parse(a)).data==t&&e.$apply((()=>{e.getAllDoctors()}))}))},o=t=>{HTTPs.POST(CONFIG.serverUrl+"/ACD",{id:t,staus:0}).then((a=>{(a=JSON.parse(a)).data==t&&e.$apply((()=>{e.getAllDoctors()}))}))};e.getAllDoctors()}],Router:{Url:"/Doctors",Templete:"Views/Doctors/Doctors.html",Render:[{link:"assets/libs/datatables/dataTables.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/responsive.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/buttons.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/select.bootstrap4.css",type:"CSS"},{link:"assets/libs/datatables/jquery.dataTables.min.js",type:"JS"},{link:"assets/libs/datatables/dataTables.bootstrap4.js",type:"JS"},{link:"assets/libs/datatables/dataTables.responsive.min.js",type:"JS"},{link:"assets/libs/datatables/dataTables.select.min.js",type:"JS"}],AUTH:!0}},$ANContreoller.Layouts={FUN:["$scope","$rootScope","$location",function(e,t,a){t.$on("AuthChanged",((t,a)=>{e.IsAuth=a})),e.IsAuth=!1}]},$ANContreoller.topbar={FUN:["$scope","$cookies","$rootScope","$location",function(e,t,a,r){e.user=JSON.parse(t.get("PUA")),e.chatNotf=[],e.getAllChatNotf=()=>{HTTPs.POST(CONFIG.serverUrl+"/GACF",{}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{for(var a=0;a<t.data.length;a++)t.data[a].patientId=$CRID.TO(t.data[a].patientId.toString());e.chatNotf=t.data}))}))},e.getAllChatNotf(),a.$on("updateChatNotifi",((t,a)=>{e.getAllChatNotf()}));io(CONFIG.serverSocket,{reconnect:!0,query:{token:e.user.token}}).on("NOTF",(t=>{t.content&&("Message"==t.content[0].section?e.$apply((()=>{rootEvents.find((e=>e=="CHAT"+t.content[0].patientId))?e.$emit("CHAT"+t.content[0].patientId,!0):e.getAllChatNotf()})):e.getAllNot())})),e.notfiArray=[],e.getAllNot=()=>{},e.goToLinkNote=(t,a)=>{HTTPs.POST(CONFIG.serverUrl+"/UNOT",{id:t}).then((t=>{e.$apply((()=>{e.getAllNot(),r.path("/Cases/"+$CRID.TO(a.toString()))}))}))},e.getAllNot(),e.LogOut=()=>{t.remove("PUA"),location.reload()},e.files=[],a.$on("uploadFiles",((t,a)=>{if(!e.files.find((e=>e.fileName==a.fileName))){var r=new FileReader;r.onload=()=>{e.$apply((()=>{a.image=r.result,e.uploadFiles(a)}))},r.readAsDataURL(a.file)}})),e.uploadFiles=(t,a=null,r=null)=>{a=t.idPatient,r=t.fileName,e.files.push(t);let s=new FormData;s.append("fileData",t.file),HTTPs.POSTFile(CONFIG.serverUrl+"/uploadFile",s,{directionName:"K"+a+"/"+t.id},(t=>{"C"!=t&&(t=(t.loaded/t.total*100).toFixed(2)),100==t&&(t=100),e.$apply((()=>{let s=e.files.find((e=>e.fileName==r));s&&(s.filePrograss=t,e.$emit("updateUpload"+s.id+a,{numberPrograss:s.filePrograss,file:s.image,type:s.type}))}))})).then((r=>{r&&(r=JSON.parse(r),e.$apply((()=>{e.$emit("updateUpload"+t.id+a,{numberPrograss:"C",file:t.image,type:t.type,newPath:r.path}),e.files.splice(e.files.indexOf(t),1)})))}))}}]},$ANContreoller.left_side={FUN:["$scope",function(e){e.init=()=>{$(".button-menu-mobile").on("click",(function(e){e.preventDefault(),$("body").toggleClass("sidebar-enable"),$(window).width()>=768?$("body").toggleClass("enlarged"):$("body").removeClass("enlarged"),$(".slimscroll-menu").slimscroll({height:"auto",position:"right",size:"8px",color:"#9ea5ab",wheelStep:5,touchScrollStep:20})})),$("#side-menu").metisMenu(),$(".slimscroll-menu").slimscroll({height:"auto",position:"right",size:"8px",color:"#9ea5ab",wheelStep:5,touchScrollStep:20}),$(".right-bar-toggle").on("click",(function(e){$("body").toggleClass("right-bar-enabled")})),$(document).on("click","body",(function(e){$(e.target).closest(".right-bar-toggle, .right-bar").length>0||$(e.target).closest(".left-side-menu, .side-nav").length>0||$(e.target).hasClass("button-menu-mobile")||$(e.target).closest(".button-menu-mobile").length>0||($("body").removeClass("right-bar-enabled"),$("body").removeClass("sidebar-enable"))})),$("#side-menu a").each((function(){var e=window.location.href.split(/[?#]/)[0];this.href==e&&($(this).addClass("active"),$(this).parent().addClass("active"),$(this).parent().parent().addClass("in"),$(this).parent().parent().prev().addClass("active"),$(this).parent().parent().parent().addClass("active"),$(this).parent().parent().parent().parent().addClass("in"),$(this).parent().parent().parent().parent().parent().addClass("active"))}))}}]},$ANContreoller.viewerStl={FUN:["$scope","$rootScope",function(e,t){e.display=!1;var a=null;e.srcFile="",e.animated=!1,e.amited=()=>{e.animated?(a.animate_model(1,{delta:null}),e.animated=!1):(a.animate_model(1,{delta:{rotationx:1,msec:1e3,loop:!0}}),e.animated=!0)},e.init=function(t){(a=new StlViewer(document.getElementById("sstl"),{loading_progress_callback:(e,t)=>{console.log("adasdasd"),console.log(e),Object.keys(e).forEach((function(a){if(e[a].load_session==t){let t=(e[a].loaded/e[a].total*100).toFixed(0);document.getElementById("textProssessSpanStl").innerHTML=t}}))},all_loaded_callback:()=>{document.getElementById("loaderStlPrograss").remove()},models:[]})).add_model({id:1,filename:CONFIG.serverImageUrl+e.srcFile,pacity:.2,z:-10,color:"#7a7a7a"})},t.$on("showModelStl",((t,a)=>{e.display=!0,e.srcFile=a})),e.close=()=>{a.remove_model(1),e.display=!1}}]},$ANDirective.format={FUN:function(e){return function(e,t,a){a.typeInput;t[0].addEventListener("keypress",(e=>{var t=(e=e||window.event).which?e.which:e.keyCode;return!(t>31&&(t<48||t>57)&&"+"!=e.key)||(e.preventDefault(),!1)}))}}};var CONT_AdditionalInstructions=function(e,t,a){this.$onInit=function(){e.datatest=this.filters,e.buttonNext=this.buttonNext,e.nextTab=()=>{e.buttonNext()};var t=new Audio("assets/sounds/send.wav");setTimeout((()=>{$(".boxChat .boxItems").animate({scrollTop:$(".boxChat .boxItems .box").height()},1e3)}),100);const r=document.querySelector(".boxChat .boxInput textarea");r.addEventListener("keyup",(function(){this.scrollHeight<=130?(this.style.height="25px",this.style.height=this.scrollHeight+"px",this.style.overflowY="hidden"):(this.style.height="130px",this.style.overflowY="auto")})),e.dataChat=[],e.GetAll=()=>{HTTPs.POST(CONFIG.serverUrl+"/GAAI",{patientId:this.idPatient}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{e.dataChat=t.data,e.$emit("updateChatNotifi",!0)}))}))},e.inputMessage="",e.sendMessage=()=>{HTTPs.POST(CONFIG.serverUrl+"/CAAI",{patientId:this.idPatient,message:r.value}).then((a=>{0==(a=JSON.parse(a)).error&&2e3==a.message&&e.$apply((()=>{e.GetAll(),r.value="",r.style.height="25px",t.play(),e.inputMessage="",setTimeout((()=>{$(".boxChat .boxItems").animate({scrollTop:$(".boxChat .boxItems .box").height()},1e3)}),100)}))}))},rootEvents.push("CHAT"+this.idPatient),a.$on("CHAT"+this.idPatient,((a,r)=>{e.GetAll(),t.play(),e.inputMessage="",setTimeout((()=>{$(".boxChat .boxItems").animate({scrollTop:$(".boxChat .boxItems .box").height()},1e3)}),100)})),e.GetAll(),e.$on("$destroy",(()=>{rootEvents=rootEvents.filter((e=>e!="CHAT"+this.idPatient))}))}};adminApp.controller("AdditionalInstructions",["$scope","$location","$rootScope",CONT_AdditionalInstructions]),adminApp.component("additionalInstructions",{bindings:{filters:"@",buttonNext:"&",idPatient:"<"},templateUrl:"Views/Cases/Components/AdditionalInstructions.html",controller:"AdditionalInstructions"}),$ANComponent.createOrder={FUN:["$scope","$location","$routeParams","$rootScope",function(e,t,a,r){this.$onInit=function(){e.idPatient=this.idPatient,e.buttonNext=this.buttonNext,e.nextTab=()=>{this.buttonNext()},e.backTab=()=>{this.buttonBack()};var t="";e.idCases=-1;var a=(a,r)=>{if(1!=e.StopForm){var s=`\n                <div id="IPR${r}">\n                    <div class="boxSVGIPR">\n                        <div class="showSVGIPR">${a}</div>\n                        <a class="titleSGIPR">${r}</a>\n                    </div>\n                    <div class="radio mb-2">\n                        <input type="radio" name="optionIPRVALUE" id="IPRoptionExtraction0" value="0" checked="">\n                        <label for="IPRoptionExtraction0">\n                            None\n                        </label>\n                    </div>\n                    <div class="radio mb-2">\n                        <input type="radio" name="optionIPRVALUE" id="IPRoptionExtraction1" value="1">\n                        <label for="IPRoptionExtraction1">\n                            Extraction/Missing\n                        </label>\n                    </div>\n                    <div class="radio radio-primary mb-2">\n                        <input type="radio" name="optionIPRVALUE" id="IPRoptionExtraction4" value="4">\n                        <label for="IPRoptionExtraction4">\n                            Exclude From Treatment\n                        </label>\n                    </div>\n                    <div class="radio radio-success mb-2">\n                        <input type="radio" name="optionIPRVALUE" id="IPRoptionExtraction2" value="2">\n                        <label for="IPRoptionExtraction2">\n                            Place attachment\n                        </label>\n                    </div>\n                    <a id="closebtnProvver" class="btn btn-outline-info" style="cursor: pointer;width: 100%;margin-top: 5px;">Close</a>\n                </div>\n                `;for(var n in $(".popover .popover-body").html(s),$("#IPR"+r+" img").css("display","none"),e.IPRArray)n==r&&$("#IPR"+r+" #IPRoptionExtraction"+e.IPRArray[n].I).attr("checked",!0);$(".popover input").on("change",(t=>{"radio"==t.target.type?e.$apply((()=>{for(var a in e.IPRArray)a==r&&(e.IPRArray[a].I=t.target.value)})):"number"==t.target.type&&e.$apply((()=>{for(var a in e.IPRArray)a==r&&(e.IPRArray[a].T=t.target.value)}))})),$(".popover #closebtnProvver").click((()=>{$(t).popover("hide"),$(t).removeClass("activeIPR")}))}},s=(a,r,s)=>{if(1!=e.StopForm){var n=`\n                <div id="IPR${r}">\n                    <div class="boxSVGIPR">\n                        <div class="showSVGIPR">${$("#"+r).html()}</div>\n                        <a class="titleSGIPR" style="font-size: 16px;width: 100px;">${r+""+s}</a>\n                        <div class="showSVGIPR">${$("#"+s).html()}</div>\n                    </div>\n                    <div>\n                        Value:<input type="number" min="0.0" step="0.1" class="inputItemsCreateOrder inputChekbox">\n                    </div>\n                    <a id="closebtnProvver"  class="btn btn-outline-info" style="cursor: pointer;width: 100%;margin-top: 5px;">Close</a>\n                </div>\n                `;for(var i in $(".popover .popover-body").html(n),$("#IPR"+r+" img").css("display","none"),e.IPRArray)i==r&&$("#IPR"+r+' input[type="number"]').val(e.IPRArray[i].T);$(".popover input").on("change",(t=>{"number"==t.target.type&&e.$apply((()=>{for(var a in e.IPRArray)a==r&&(e.IPRArray[a].T=t.target.value)}))})),$(".popover #closebtnProvver").click((()=>{$(t).popover("hide"),$(t).removeClass("activeIPR")}))}};e.renderIPR=()=>{$(".IPR").click((e=>{console.log("start"),$(e.currentTarget).attr("idl")?(console.log("2"),e.currentTarget===t?(console.log("21"),$(e.currentTarget).popover("toggle"),s(e.currentTarget.innerHTML,e.currentTarget.id,$(e.currentTarget).attr("idl"))):(console.log("22"),$(".IPR").popover("hide"),$(".IPR").removeClass("activeIPR"),$(".popover").remove(),setTimeout((()=>{$(e.currentTarget).popover("show"),$(e.currentTarget).addClass("activeIPR"),s(e.currentTarget.innerHTML,e.currentTarget.id,$(e.currentTarget).attr("idl")),t=e.currentTarget}),4))):(console.log("1"),e.currentTarget===t?(console.log("11"),$(e.currentTarget).popover("toggle"),$(e.currentTarget).toggleClass("activeIPR"),a(e.currentTarget.innerHTML,e.currentTarget.id),t=null):(console.log("12"),$(".IPR").popover("hide"),$(".IPR").removeClass("activeIPR"),$(".popover").remove(),setTimeout((()=>{$(e.currentTarget).popover("show"),$(e.currentTarget).addClass("activeIPR"),a(e.currentTarget.innerHTML,e.currentTarget.id),t=e.currentTarget}),4)))})),$(".IPR").popover({content:'<strong class="color-red">Disabled..</strong>',title:"",placement:"auto",container:"body",html:!0,boundary:"viewport",trigger:"manual"})},e.treatmentTypeItems=[{id:1,label:"Express"},{id:2,label:"Lite"},{id:3,label:"Moderate"},{id:4,label:"Complex"},{id:5,label:"Comprehensive"}],e.treatmentType="1",e.incisorsMidlineItems=[{id:0,label:"None"},{id:1,label:"Improve"},{id:2,label:"Maintain"},{id:3,label:"Correct"}],e.incisorsMidline="0",e.incisorsOverbiteItems=[{id:0,label:"None"},{id:1,label:"Maintain"},{id:2,label:"Increase"},{id:3,label:"Decrease"}],e.incisorsOverbite="0",e.incisorsOverjetItems=[{id:0,label:"None"},{id:1,label:"Maintain"},{id:2,label:"Increase"},{id:3,label:"Decrease"}],e.incisorsOverjet="0",e.posteriorSpacingItems=[{id:0,label:"None"},{id:1,label:"Close ALL Spaces"},{id:2,label:"Leave ALL Spaces"},{id:3,label:"Leave Space Anteriorly For Prosthesis"}],e.posteriorSpacing="0",e.posteriorArchWdithItems=[{id:0,label:"None"},{id:1,label:"Maintain"},{id:2,label:"Expand"},{id:3,label:"Narrow"}],e.posteriorArchWdith="0",e.posteriorPosteriorCrossBiteItems=[{id:0,label:"None"},{id:1,label:"Maintain"},{id:2,label:"Correct"},{id:3,label:"Expand"},{id:4,label:"Narrow"}],e.posteriorPosteriorCrossBite="0",e.classDesiredMRigthItems=[{id:0,label:"None"},{id:1,label:"Class I"},{id:2,label:"Class II"},{id:3,label:"Class III"}],e.classDesiredMRigth="0",e.classDesiredMLeftItems=[{id:0,label:"None"},{id:1,label:"Class I"},{id:2,label:"Class II"},{id:3,label:"Class III"}],e.classDesiredMLeft="0",e.classDesiredRRigthItems=[{id:0,label:"None"},{id:1,label:"Class I"},{id:2,label:"Class II"},{id:3,label:"Class III"}],e.classDesiredRRigth="0",e.classDesiredRLeftItems=[{id:0,label:"None"},{id:1,label:"Class I"},{id:2,label:"Class II"},{id:3,label:"Class III"}],e.classDesiredRLeft="0",e.IPRArray={UR8:{T:0,I:0,number:11,name:"UR8"},UR7:{T:0,I:0,number:12,name:"UR7"},UR6:{T:0,I:0,number:13,name:"UR6"},UR5:{T:0,I:0,number:14,name:"UR5"},UR4:{T:0,I:0,number:15,name:"UR4"},UR3:{T:0,I:0,number:16,name:"UR3"},UR2:{T:0,I:0,number:17,name:"UR2"},UR1:{T:0,I:0,number:18,name:"UR1"},UL8:{T:0,I:0,number:21,name:"UL8"},UL7:{T:0,I:0,number:22,name:"UL7"},UL6:{T:0,I:0,number:23,name:"UL6"},UL5:{T:0,I:0,number:24,name:"UL5"},UL4:{T:0,I:0,number:25,name:"UL4"},UL3:{T:0,I:0,number:26,name:"UL3"},UL2:{T:0,I:0,number:27,name:"UL2"},UL1:{T:0,I:0,number:28,name:"UL1"},LR8:{T:0,I:0,number:31,name:"LR8"},LR7:{T:0,I:0,number:32,name:"LR7"},LR6:{T:0,I:0,number:33,name:"LR6"},LR5:{T:0,I:0,number:34,name:"LR5"},LR4:{T:0,I:0,number:35,name:"LR4"},LR3:{T:0,I:0,number:36,name:"LR3"},LR2:{T:0,I:0,number:37,name:"LR2"},LR1:{T:0,I:0,number:38,name:"LR1"},LL8:{T:0,I:0,number:41,name:"LL8"},LL7:{T:0,I:0,number:42,name:"LL7"},LL6:{T:0,I:0,number:43,name:"LL6"},LL5:{T:0,I:0,number:44,name:"LL5"},LL4:{T:0,I:0,number:45,name:"LL4"},LL3:{T:0,I:0,number:46,name:"LL3"},LL2:{T:0,I:0,number:47,name:"LL2"},LL1:{T:0,I:0,number:48,name:"LL1"}},e.ImpressionsItem="1",e.iPRInstructions="2",e.crowdingExpandMandibular=!1,e.crowdingExpandMaxillar=!1,e.crowdingProclineMandibular=!1,e.crowdingProclineMaxillar=!1,e.noAttachment=!1,e.removeAttachmentonlaststage=!1,e.removeAttachmentonstage=!1,e.removeAttachmentonstageNumber=0,e.tretmentGols="",e.shippingId="0",e.ImpressionsFile=[],HTTPs.POST(CONFIG.serverUrl+"/GISTL",{id:this.idPatient}).then((t=>{2e3==(t=JSON.parse(t)).message&&e.$apply((()=>{e.ImpressionsFile=t.data}))})),e.DataAdress=[],e.getAllShipping=()=>{HTTPs.POST(CONFIG.serverUrl+"/GASH",{}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{e.DataAdress=t.data,0!=t.data.length&&(e.shippingId=t.data[0].id.toString())}))}))},e.getAllShipping(),e.StopForm=!1,e.LoaderForm=!1,e.Create=()=>{let t={patientId:e.idPatient,impressions:e.ImpressionsItem,shippingId:e.shippingId,rx:e.IPRArray,treatmentType:e.treatmentType,incisorsMidline:e.incisorsMidline,incisorsOverbite:e.incisorsOverbite,incisorsOverjet:e.incisorsOverjet,posteriorSpacing:e.posteriorSpacing,posteriorArchWdith:e.posteriorArchWdith,posteriorPosteriorCrossBite:e.posteriorPosteriorCrossBite,crowdingProclineMaxillar:e.crowdingProclineMaxillar,crowdingExpandMaxillar:e.crowdingExpandMaxillar,crowdingProclineMandibular:e.crowdingProclineMandibular,crowdingExpandMandibular:e.crowdingExpandMandibular,classDesiredMRigth:e.classDesiredMRigth,classDesiredMLeft:e.classDesiredMLeft,classDesiredRRigth:e.classDesiredRRigth,classDesiredRLeft:e.classDesiredRLeft,noAttachment:e.noAttachment,removeAttachmentonlaststage:e.removeAttachmentonlaststage,removeAttachmentonstage:e.removeAttachmentonstage,removeAttachmentonstageNumber:e.removeAttachmentonstageNumber,iPRInstructions:e.iPRInstructions,tretmentGols:e.tretmentGols};if(0==e.shippingId&&"1"==e.ImpressionsItem)return $("#shippingAddrss").addClass("errorInput"),void $("#shippingAddrss").removeClass("sucssInput");e.StopForm=!0,e.LoaderForm=!0,HTTPs.POST(CONFIG.serverUrl+"/CC",t).then((t=>{0==(t=JSON.parse(t)).error&&2e3==t.message&&e.$apply((()=>{e.LoaderForm=!1,e.idCases=t.data,this.buttonNext()})),console.log(t)}))},e.hidePop=()=>{$(".popover #closebtnProvver").click()},e.getAll=()=>{HTTPs.POST(CONFIG.serverUrl+"/GAC",{id:e.idPatient}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{0!=t.data.length&&(e.ImpressionsItem=t.data[0].impressions.toString(),e.shippingId=t.data[0].shippingId.toString(),e.IPRArray=JSON.parse(t.data[0].rx),e.treatmentType=t.data[0].treatmentType.toString(),e.incisorsMidline=t.data[0].incisorsMidline.toString(),e.incisorsOverbite=t.data[0].incisorsOverbite.toString(),e.incisorsOverjet=t.data[0].incisorsOverjet.toString(),e.posteriorSpacing=t.data[0].posteriorSpacing.toString(),e.posteriorArchWdith=t.data[0].posteriorArchWdith.toString(),e.posteriorPosteriorCrossBite=t.data[0].posteriorPosteriorCrossBite.toString(),e.crowdingProclineMaxillar=1==t.data[0].crowdingProclineMaxillar,e.crowdingExpandMaxillar=1==t.data[0].crowdingExpandMaxillar,e.crowdingProclineMandibular=1==t.data[0].crowdingProclineMandibular,e.crowdingExpandMandibular=1==t.data[0].crowdingExpandMandibular,e.classDesiredMRigth=t.data[0].classDesiredMRigth.toString(),e.classDesiredMLeft=t.data[0].classDesiredMLeft.toString(),e.classDesiredRRigth=t.data[0].classDesiredRRigth.toString(),e.classDesiredRLeft=t.data[0].classDesiredRLeft.toString(),e.noAttachment=t.data[0].noAttachment.toString(),e.removeAttachmentonlaststage=1==t.data[0].removeAttachmentonlaststage,e.removeAttachmentonstage=1==t.data[0].removeAttachmentonstage,e.removeAttachmentonstageNumber=t.data[0].removeAttachmentonstageNumber,e.iPRInstructions=t.data[0].iPRInstructions.toString(),e.tretmentGols=t.data[0].tretmentGols,e.idCases=t.data[0].id,e.LoaderForm=!1,e.StopForm=!0)}))}))},e.getAll(),r.$on("updateShippings",((t,a)=>{e.getAllShipping()})),e.Edit=()=>{e.StopForm=!1},e.Save=()=>{let t={id:e.idCases,patientId:e.idPatient,impressions:e.ImpressionsItem,shippingId:e.shippingId,rx:e.IPRArray,treatmentType:e.treatmentType,incisorsMidline:e.incisorsMidline,incisorsOverbite:e.incisorsOverbite,incisorsOverjet:e.incisorsOverjet,posteriorSpacing:e.posteriorSpacing,posteriorArchWdith:e.posteriorArchWdith,posteriorPosteriorCrossBite:e.posteriorPosteriorCrossBite,crowdingProclineMaxillar:e.crowdingProclineMaxillar,crowdingExpandMaxillar:e.crowdingExpandMaxillar,crowdingProclineMandibular:e.crowdingProclineMandibular,crowdingExpandMandibular:e.crowdingExpandMandibular,classDesiredMRigth:e.classDesiredMRigth,classDesiredMLeft:e.classDesiredMLeft,classDesiredRRigth:e.classDesiredRRigth,classDesiredRLeft:e.classDesiredRLeft,noAttachment:e.noAttachment,removeAttachmentonlaststage:e.removeAttachmentonlaststage,removeAttachmentonstage:e.removeAttachmentonstage,removeAttachmentonstageNumber:e.removeAttachmentonstageNumber,iPRInstructions:e.iPRInstructions,tretmentGols:e.tretmentGols};e.StopForm=!0,e.LoaderForm=!0,HTTPs.POST(CONFIG.serverUrl+"/CU",t).then((t=>{0==(t=JSON.parse(t)).error&&2001==t.message&&e.$apply((()=>{e.LoaderForm=!1,e.idCases=t.data}))}))}}}],Templete:"Views/Cases/Components/CreateOrder.html",Paramter:{filters:"@",buttonNext:"&",idPatient:"<",deleteCases:"<"}},$ANComponent.patientInformation={FUN:["$scope","$location",function(e,t){this.$onInit=function(){e.datatest=this.filters,e.Create=()=>{let r=Validate(document.getElementById("formInformationPatient"));if(!r)return;if(""==$("#BirthDate").val())return $("#BirthDate").addClass("errorInput"),$("#BirthDate").removeClass("sucssInput"),void $("#ErrorMessageDate").html($("#ErrorMessageDate").attr("titleError"));var s;$("#ErrorMessageDate").html(""),$("#BirthDate").removeClass("errorInput"),$("#BirthDate").addClass("sucssInput"),(s=new FormData).append("fileData",a),(s=new FormData).append("fileData",a);let n=$("#BirthDate").val();n=n.split("-");let i=new Date(n[1]+"/"+n[0]+"/"+n[2]);r.BirthDate=i,Reloader.Start("#formInformationPatient"),HTTPs.POST(CONFIG.serverUrl+"/P/Create",s,r).then((a=>{2e3==(a=JSON.parse(a)).message&&(Reloader.Stop("#formInformationPatient"),e.$apply((()=>{t.path("/Cases/"+$CRID.TO(a.id.toString())).search({TB:"patientRecords",TA:"patientInformation"}),this.buttonNext()})))}))},e.nextTab=()=>{this.buttonNext()},e.update=()=>{let t=Validate(document.getElementById("formInformationPatient"));if(!t)return;t.id=this.idPatient;var r=new FormData;r.append("fileData",a);let s=$("#BirthDate").val();s=s.split("-");let n=new Date(s[1]+"/"+s[0]+"/"+s[2]);t.BirthDate=n,HTTPs.POST(CONFIG.serverUrl+"/P/Update",r,t).then((t=>{e.$apply((()=>{e.EditForm=!1}))}))},e.openFIle=e=>{ImageELement=e.target,$("#imagePatientFile").click()};var a=null;$("#imagePatientFile").on("change",(e=>{var t=(e.target||window.event.srcElement).files;if(FileReader&&t&&t.length){let e=t[0].name;if(e=e.split("."),!(e.length>1))return;if(e=e[e.length-1].toUpperCase(),"PNG"==e||"JPG"==e||"JPEG"==e||"GIF"==e){var r=new FileReader;r.onload=()=>{ImageELement.src=r.result},r.readAsDataURL(t[0]),a=t[0]}else Tost.warning("Invalid file type","Allowed files .png .jpeg .jpg",3e3)}}));const r=flatpickr("#BirthDate",{maxDate:"2010-01-01",dateFormat:"d-m-Y"});e.EditForm=!1,e.getAll=()=>{-1!=this.idPatient?HTTPs.POST(CONFIG.serverUrl+"/P/GetId",{id:this.idPatient}).then((e=>{2e3==(e=JSON.parse(e)).message&&($("#formInformationPatient #fullName").val(e.data[0].firstName),r.setDate(new Date(e.data[0].birthDate),!0),$("#formInformationPatient #gender").val(e.data[0].gender),$("#formInformationPatient #imagePatient").attr("src",CONFIG.serverImageUrl+e.data[0].image))})):e.EditForm=!0},e.getAll(),e.editForm=()=>{e.EditForm=!0},e.DeleteCases=()=>{HTTPs.POST(CONFIG.serverUrl+"/P/Delete",{idPatient:this.idPatient}).then((a=>{2003==(a=JSON.parse(a)).message&&(Tost.warning("Deleted successfully","The patient has been removed successfully ",3e3),e.$apply((()=>{t.path("/")})))}))}}}],Templete:"Views/Cases/Components/PatientInformation.html",Paramter:{filters:"@",buttonNext:"&",idPatient:"<",deleteCases:"<"}};var CONT_PatientRecords=function(e,t){e.idPatient=-1,this.$onInit=function(){e.PR=[],HTTPs.POST(CONFIG.serverUrl+"/GRP",{id:this.idPatient}).then((t=>{2e3==(t=JSON.parse(t)).message&&e.$apply((()=>{e.PR=t.data}))})),e.idPatient=this.idPatient,e.nextTab=()=>{this.buttonNext()},e.backTab=()=>{this.buttonBack()},e.files=[{name:"",src:"assets/images/imagePatient/2.png",status:0,prosessNumber:0}]}};adminApp.controller("PatientRecords",["$scope","$location",CONT_PatientRecords]),adminApp.component("patientRecords",{bindings:{idPatient:"<",buttonNext:"&",buttonBack:"&"},templateUrl:"Views/Cases/Components/PatientRecords.html",controller:"PatientRecords"});var CONT_SubmitCase=function(e,t){this.$onInit=function(){e.datatest=this.filters,e.buttonNext=this.buttonNext,e.Submit=!1,e.nextTab=()=>{e.buttonNext()},e.Submited=()=>{HTTPs.POST(CONFIG.serverUrl+"/CS",{id:this.idPatient}).then((t=>{2001==(t=JSON.parse(t)).message&&e.$apply((()=>{e.Submit=!0,this.btnHideNav()}))}))}}};adminApp.controller("SubmitCase",["$scope","$location",CONT_SubmitCase]),adminApp.component("submitCase",{bindings:{filters:"@",buttonNext:"&",btnHideNav:"&",idPatient:"<"},templateUrl:"Views/Cases/Components/SubmitCase.html",controller:"SubmitCase"});var CONT_tretmentPlan=function(e,t,a){this.$onInit=function(){e.datatest=this.filters,e.buttonNext=this.buttonNext,e.Submit=!1,e.nextTab=()=>{e.buttonNext()},e.Submited=()=>{HTTPs.POST(CONFIG.serverUrl+"/CS",{id:this.idPatient}).then((t=>{2001==(t=JSON.parse(t)).message&&e.$apply((()=>{e.Submit=!0,this.btnHideNav()}))}))},e.TremtentLevel=[],e.getAll=()=>{HTTPs.POST(CONFIG.serverUrl+"/GTP",{patientId:this.idPatient}).then((t=>{0==(t=JSON.parse(t)).error&&e.$apply((()=>{console.log(t);for(var r=0;r<t.data.length;r++)e.Tabs.push({id:t.data[r].id,link:URLStatICBAS+"/CV/"+$CRID.TO(t.data[r].id.toString()),nLevel:t.data[r].nLevel,salary:t.data[r].salary,set:r==t.data.length-1,select:"Setup",Setup:0==t.data[r].pdfLink.Setup.length?null:a.trustAsResourceUrl(CONFIG.serverImageUrl+t.data[r].pdfLink.Setup[0].path),Simulation:0==t.data[r].pdfLink.Simulation.length?null:a.trustAsResourceUrl(CONFIG.serverImageUrl+t.data[r].pdfLink.Simulation[0].path),Right:0==t.data[r].pdfLink.Right.length?null:a.trustAsResourceUrl(CONFIG.serverImageUrl+t.data[r].pdfLink.Right[0].path),Left:0==t.data[r].pdfLink.Left.length?null:a.trustAsResourceUrl(CONFIG.serverImageUrl+t.data[r].pdfLink.Left[0].path),Frontal:0==t.data[r].pdfLink.Frontal.length?null:a.trustAsResourceUrl(CONFIG.serverImageUrl+t.data[r].pdfLink.Frontal[0].path)})}))}))},e.getAll(),e.Tabs=[],e.TabsLevel=[],e.setTabs=t=>{e.Tabs.forEach((e=>{e.id==t?e.set=!0:e.set=!1}))},e.approval=()=>{HTTPs.POST(CONFIG.serverUrl+"/CAP",{patientId:this.idPatient}).then((a=>{0==(a=JSON.parse(a)).error&&e.$apply((()=>{t.path("/")}))}))},e.setSelect=(t,a)=>{e.Tabs.find((e=>e.nLevel==a)).select=t},e.CopyLink=()=>{document.getElementById("linkShereyStringsUrl").select(),document.execCommand("copy"),Tost.info("Link copied","",3e3)}}};adminApp.controller("tretmentPlan",["$scope","$location","$sce",CONT_tretmentPlan]),adminApp.component("tretmentPlan",{bindings:{filters:"@",buttonNext:"&",idPatient:"<",status:"<"},templateUrl:"Views/Cases/Components/tretmentPlan.html",controller:"tretmentPlan"});
//# sourceMappingURL=app.min.js.map
